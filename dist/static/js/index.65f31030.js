(()=>{var e={42634:()=>{},50477:()=>{},71049:(e,t,a)=>{"use strict";var l=a(9950),n=a(1352),s=a(10300),r=a(34787);const i=(0,r.Z0)({name:"comment",initialState:{routerData:{name:"",breadcrumb:[]}},reducers:{setRouterData:(e,t)=>{e.routerData={breadcrumb:t.payload.breadcrumb||[],name:t.payload.name||""}}}}),{setLayout:o,setSidebarWidth:d,setRouterData:c}=i.actions,u=i.reducer,m=(0,r.Z0)({name:"user",initialState:{userInfo:{},menus:[],route:[]},reducers:{setUser:(e,t)=>{e.userInfo=t.payload.userInfo||{},e.menus=t.payload.menus||[],e.route=t.payload.route||[]}}}),{setUser:h}=m.actions,p=m.reducer,g=(0,r.U1)({reducer:{user:p,comment:u},middleware:e=>e({serializableCheck:!1})});var A=a(41345),x=a(71420),j=a(63274),y=a(89980),b=a(29205),f=a(96185),v=a(95436),C=a(44414);const S=()=>{var e;const t=(0,s.d4)((e=>e.comment.routerData)),a=null===t||void 0===t||null===(e=t.breadcrumb)||void 0===e?void 0:e.map((e=>({title:e.path?(0,C.jsx)(A.N_,{target:e.target||"_self",to:e.path,children:e.text}):e.text})));return(0,C.jsx)(v.A,{items:a})};var k=a(49603),I=a(1158),w=a(22569),N=a(44070);const E=[{key:"/training-model",icon:(0,C.jsx)(k.A,{}),label:"\u8bad\u7ec3\u6a21\u578b",path:"/training-model"},{key:"/dataset",icon:(0,C.jsx)(I.A,{}),label:"\u6570\u636e\u96c6",path:"/dataset"},{key:"/label",icon:(0,C.jsx)(w.A,{}),label:"\u6807\u7b7e\u7ba1\u7406",path:"/label"},{key:"/recycle-bin",icon:(0,C.jsx)(N.A,{}),label:"\u56de\u6536\u7ad9",path:"/recycle-bin"}],{Sider:B,Content:T}=j.A,Q=()=>{const e=(0,A.Zp)(),[t,a]=((0,A.zy)(),(0,l.useState)(!1)),n=(0,s.d4)((e=>e.comment.routerData.name));return(0,C.jsxs)(j.A,{className:"app-layout",children:[(0,C.jsxs)(B,{trigger:null,collapsible:!0,collapsed:t,className:"app-sider",children:[(0,C.jsx)("div",{className:"logo",children:t?(0,C.jsx)("img",{src:"/static/images/logo.png",alt:"logo"}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("img",{src:"/static/images/logo.png",alt:"logo"}),(0,C.jsx)("span",{children:"\u6a21\u578b\u8bad\u7ec3\u7cfb\u7edf"})]})}),(0,C.jsx)(y.A,{theme:"dark",mode:"inline",selectedKeys:[n],items:E,onClick:t=>{let{key:a}=t;e(a)}}),(0,C.jsx)("div",{className:"trigger",onClick:()=>a(!t),children:t?(0,C.jsx)(b.A,{}):(0,C.jsx)(f.A,{})})]}),(0,C.jsx)(j.A,{children:(0,C.jsxs)(T,{className:"app-content-wrapper "+(t?"collapsed":""),children:[(0,C.jsx)("div",{className:"breadcrumb-container",children:(0,C.jsx)(S,{})}),(0,C.jsx)(T,{className:"app-content",children:(0,C.jsx)(A.sv,{})})]})})]})};var D=a(46004),z=a(70440),F=a(82056),O=a(81549);const W=()=>{const e=[{title:"\u7528\u6237\u540d",dataIndex:"username",key:"username"},{title:"\u90ae\u7bb1",dataIndex:"email",key:"email"},{title:"\u89d2\u8272",dataIndex:"role",key:"role"},{title:"\u64cd\u4f5c",key:"action",render:(e,t)=>(0,C.jsxs)(D.A,{size:"middle",children:[(0,C.jsx)(z.Ay,{type:"link",children:"\u7f16\u8f91"}),(0,C.jsx)(z.Ay,{type:"link",danger:!0,children:"\u5220\u9664"})]})}];return(0,C.jsx)("div",{className:"user-page",children:(0,C.jsx)(F.A,{title:"\u7528\u6237\u7ba1\u7406",extra:(0,C.jsx)(z.Ay,{type:"primary",children:"\u6dfb\u52a0\u7528\u6237"}),children:(0,C.jsx)(O.A,{columns:e,dataSource:[{key:"1",username:"admin",email:"admin@example.com",role:"\u7ba1\u7406\u5458"},{key:"2",username:"user",email:"user@example.com",role:"\u666e\u901a\u7528\u6237"}]})})})};var K=a(99674),L=a(90567),R=a(76538),M=a(71751);const{Option:U}=K.A,Y=()=>{const[e]=L.A.useForm();return(0,C.jsx)("div",{className:"settings-page",children:(0,C.jsx)(F.A,{title:"\u7cfb\u7edf\u8bbe\u7f6e",children:(0,C.jsxs)(L.A,{form:e,layout:"vertical",onFinish:e=>{console.log("Success:",e)},initialValues:{siteName:"\u6a21\u578b\u8bad\u7ec3\u7cfb\u7edf",siteDescription:"\u4e00\u4e2a\u57fa\u4e8e React \u7684\u6a21\u578b\u8bad\u7ec3\u7cfb\u7edf",enableRegistration:!0,theme:"light"},children:[(0,C.jsx)(L.A.Item,{label:"\u7ad9\u70b9\u540d\u79f0",name:"siteName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7ad9\u70b9\u540d\u79f0"}],children:(0,C.jsx)(R.A,{})}),(0,C.jsx)(L.A.Item,{label:"\u7ad9\u70b9\u63cf\u8ff0",name:"siteDescription",children:(0,C.jsx)(R.A.TextArea,{rows:4})}),(0,C.jsx)(L.A.Item,{label:"\u5141\u8bb8\u6ce8\u518c",name:"enableRegistration",valuePropName:"checked",children:(0,C.jsx)(M.A,{})}),(0,C.jsx)(L.A.Item,{label:"\u4e3b\u9898",name:"theme",children:(0,C.jsxs)(K.A,{children:[(0,C.jsx)(U,{value:"light",children:"\u6d45\u8272"}),(0,C.jsx)(U,{value:"dark",children:"\u6df1\u8272"})]})}),(0,C.jsx)(L.A.Item,{children:(0,C.jsx)(z.Ay,{type:"primary",htmlType:"submit",children:"\u4fdd\u5b58\u8bbe\u7f6e"})})]})})})};var G=a(8435),V=a(87094),P=a(41988),J=a(47293),q=a(79378),H=a(47965),Z=a(18411),$=a(35420),X=a.n($),_=a(67391),ee=a.n(_),te=a(29246),ae=a(49211);const le="YSTOKEN",ne="YISAREFRESHTOKEN",se="YISAUSERID";function re(){return ae.A.get(se)}function ie(){ae.A.remove(ne),ae.A.remove(le),ae.A.remove(se)}var oe=a(21215),de=a.n(oe);te.A.defaults.baseURL=window.baseApi,te.A.defaults.timeout=3e5,te.A.interceptors.request.use((e=>(e.data&&e.data.transFormData&&(e.headers["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",delete e.data.transFormData,e.data=de().stringify(e.data)),e)),(e=>Promise.reject(e)));const ce=()=>{var e;ie(),window.location.replace(null===(e=window.sysConfig)||void 0===e?void 0:e.logoutUrl)},ue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!window.userId||re()==window.userId)return e.transFormData&&(e.data={...e.data,transFormData:!0}),new Promise(((t,a)=>{(0,te.A)({...e}).then((e=>{2e4===e.data.code?t(e.data):a(e.data)})).catch((e=>{let t=e.response;if(t&&401===t.status)ce();a(e)}))}));window.location.reload()},me={...{common:{},getTrainingModelList:function(e){return ue({url:"/training-model/list",method:"get",params:e})},createTrainingModel:function(e){return ue({url:"/training-model/create",method:"post",data:e})},editTrainingModel:function(e){return ue({url:"/training-model/edit",method:"post",data:e})},deleteTrainingModel:function(e){return ue({url:"/training-model/delete",method:"post",data:e})},getTrainingModelDetail:function(e){return ue({url:"/training-model/detail",method:"get",data:e})}}},he={...{getAllLabelList:function(){return ue({url:"/api/label-groups/labels",method:"get"})},getGroupList:function(){return ue({url:"/api/label-groups",method:"get"})},createGroup:function(e){return ue({url:"/api/label-groups",method:"post",data:e})},updateGroup:function(e,t){return ue({url:`/api/label-groups/${e}`,method:"put",data:t})},deleteGroup:function(e){return ue({url:`/api/label-groups/${e}`,method:"delete"})},getGroupDetail:function(e){return ue({url:`/api/label-groups/${e}`,method:"get"})}},...{getLabelList:function(e){return ue({url:"/api/labels",method:"get",params:e})},createLabel:function(e){return ue({url:"/api/labels",method:"post",data:e})},updateLabel:function(e,t){return ue({url:`/api/labels/${e}`,method:"put",data:t})},deleteLabel:function(e){return ue({url:`/api/labels/${e}`,method:"delete"})},getLabelDetail:function(e){return ue({url:`/api/labels/${e}`,method:"get"})},attribute:{addAttribute:function(e,t){return ue({url:`/api/labels/${e}/attributes`,method:"post",data:t})},updateAttribute:function(e,t,a){return ue({url:`/api/labels/${e}/attributes/${t}`,method:"put",data:a})},deleteAttribute:function(e,t){return ue({url:`/api/labels/${e}/attributes/${t}`,method:"delete"})},getAttributeList:function(e){return ue({url:`/api/labels/${e}/attributes`,method:"get"})}}}},pe={...{common:{},getDataset:function(e){return ue({url:"/dataset/get",method:"post",data:e})},createDataset:function(e){return ue({url:"/dataset/create",method:"post",data:e})},editDataset:function(e){return ue({url:"/dataset/edit",method:"post",data:e})},deleteDataset:function(e){return ue({url:"/dataset/delete",method:"post",data:e})},getDatasetDetails:function(e){return ue({url:"/dataset/detail",method:"get",params:e})},importDataset:function(e){return ue({url:"/dataset/import",method:"post",data:e})},uploadFile:function(e){return ue({url:"/dataset/upload",method:"post",data:e})}}},ge={trainingmodel:me,label:he,dataset:pe,...{common:{},getSysConfig:function(){return ue({method:"get",url:"/common/config",params:{}})},postError:function(e,t){return ue({method:"post",url:e,data:t})},getUserInfo:function(){return ue({method:"get",url:"/user/info"})},logout:function(){return ue({method:"post",url:"/common/logout",data:{}})},getUser:function(){return ue({method:"get",url:"/common/iam/user/list"})},getRole:function(){return ue({method:"get",url:"/common/iam/role/list"})},getDepartment:function(){return ue({method:"get",url:"/common/iam/org/list"})}}},{getDataset:Ae,uploadFile:xe,importDataset:je}=ge.dataset,ye=[{dataIndex:"id",title:"ID"},{dataIndex:"title",title:"Title"}];class be extends l.Component{constructor(){var e;super(...arguments),e=this,this.state={dataSource:[],totalDataSource:[],pagination:{current:1,pageSize:10},loading:!1},this.fetchData=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.state.pagination;e.setState({loading:!0}),fetch("https://jsonplaceholder.typicode.com/posts",{method:"get",data:{_start:(t.current-1)*t.pageSize,_limit:t.pageSize},type:"json"}).then((t=>{t.json().then((t=>{const a={...e.state.pagination};a.total=100,e.setState({loading:!1,dataSource:X()(t,"id"),totalDataSource:X()(e.state.totalDataSource.concat(t),"id"),pagination:a})}))}))},this.fetchData2=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.state.pagination;Ae({...t,pageSize:t.pageSize||10,pn:t.current}).then((t=>{const a={...e.state.pagination};a.total=100,e.setState({loading:!1,dataSource:X()(t.data,"id"),totalDataSource:X()(e.state.totalDataSource.concat(t.data),"id"),pagination:a})}))}}componentDidMount(){this.fetchData()}render(){const{targetKeys:e=[]}=this.props,{dataSource:t,pagination:a,totalDataSource:l,loading:n}=this.state;return(0,C.jsx)(G.A,{...this.props,dataSource:t,rowKey:e=>e.id,children:s=>{let{direction:r,onItemSelectAll:i,onItemSelect:o,selectedKeys:d,disabled:c}=s;const u={getCheckboxProps:e=>({disabled:c||e.disabled}),onSelectAll(e,t){const a=t.filter((e=>!e.disabled)).map((e=>{let{id:t}=e;return t})),l=e?ee()(a,d):ee()(d,a);i(l,e)},onSelect(e,t){let{id:a}=e;o(a,t)},selectedRowKeys:d},m=l.filter((t=>e.includes(t.id))),h=t.map((t=>({...t,disabled:e.includes(t.id)})));return(0,C.jsx)(O.A,{showHeader:!1,rowSelection:u,columns:ye,loading:"left"===r&&n,dataSource:"left"===r?h:m,size:"small",rowKey:"id",onRow:e=>{let{id:t,disabled:a}=e;return{onClick:()=>{a||o(t,!d.includes(t))}}},onChange:e=>{if("left"===r){const t={...this.state.pagination};t.current=e.current,this.setState({pagination:t}),this.fetchData(e)}},pagination:"left"!==r||a})}})}}const fe=()=>{const[e,t]=(0,l.useState)([]);return(0,C.jsxs)("div",{className:"dashboard-page",children:[(0,C.jsxs)(V.A,{gutter:[16,16],children:[(0,C.jsx)(P.A,{span:8,children:(0,C.jsx)(F.A,{children:(0,C.jsx)(J.A,{title:"\u7528\u6237\u603b\u6570",value:1128,prefix:(0,C.jsx)(q.A,{})})})}),(0,C.jsx)(P.A,{span:8,children:(0,C.jsx)(F.A,{children:(0,C.jsx)(J.A,{title:"\u8ba2\u5355\u603b\u6570",value:93,prefix:(0,C.jsx)(H.A,{})})})}),(0,C.jsx)(P.A,{span:8,children:(0,C.jsx)(F.A,{children:(0,C.jsx)(J.A,{title:"\u9500\u552e\u989d",value:11280,prefix:(0,C.jsx)(Z.A,{}),precision:2})})})]}),(0,C.jsx)(be,{targetKeys:e,onChange:(e,a,l)=>{t(e)}})]})};var ve=a(34027),Ce=a(54826),Se=a(8568),ke=a(41135),Ie=a(60767);new(a(28981).EventEmitter);const we=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;const[t]=(0,l.useState)(function(e){let t=null,a=0;return{cancel:function(){a=0,clearTimeout(t)},run:function(l){let n=Date.now();n-a>=e?(clearTimeout(t),l(),a=n):(clearTimeout(t),t=setTimeout((()=>{l(),a=Date.now()}),e-(n-a)))}}}(e));return(0,l.useEffect)((()=>()=>{t.cancel()}),[]),t};const Ne=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;const[t]=(0,l.useState)(function(e){let t=null;return{cancel:function(){clearTimeout(t)},run:function(a){clearTimeout(t),t=setTimeout((()=>{a()}),e)}}}(e));return(0,l.useEffect)((()=>()=>{t.cancel()}),[]),t},Ee=e=>{const t=e=>"function"===typeof e?e():e,a=(0,l.useRef)(t(e)),[n,s]=(0,l.useState)(a.current);return[n,e=>{a.current=t(e),s(a.current)},a,()=>{}]},Be=e=>{const{ajax:t,onBefore:a,onSuccess:n,onError:s,onFinally:r,loadingDelay:i=0,throttleWait:o=0,debounceWait:d=0}=e,c=(0,l.useRef)(!1),u=(0,l.useRef)(0),[m,h]=(0,l.useState)(!0),p=((0,l.useRef)(null),(0,l.useRef)(null),we(o)),g=Ne(d),A=()=>{h(!1)},x=(e,l)=>{if(c.current)return;null===a||void 0===a||a(e,l),u.current+=1;let i=u.current;h(!0),t(e).then((t=>{i!==u.current||c.current||(A(),null===n||void 0===n||n(t,e),null===r||void 0===r||r(e))})).catch((t=>{i!==u.current||c.current||(A(),null===s||void 0===s||s(t,e),null===r||void 0===r||r(e))}))};return(0,l.useEffect)((()=>(c.current=!1,()=>{c.current=!0})),[]),{loading:m,run:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c.current||(o?p.run((()=>{x(e,t)})):d?g.run((()=>{x(e,t)})):x(e,t))}}},Te=e=>{const t=(0,s.d4)((e=>e.comment.routerData));return(0,l.useMemo)((()=>{var a;let l={},n=0+(null!==t&&void 0!==t&&null!==(a=t.breadcrumb)&&void 0!==a&&a.length?108:0);return Object.keys(e).forEach((t=>{l[t]=`calc(100vh - ${e[t]+n}px)`})),l}),[t])};var Qe=a(68794);a(9210);new Qe.A({default_key_size:"2048"});a(2527);const De=["30","60","180"];function ze(e,t){let a=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),l=e.substr(1).match(a);return null!=l?decodeURIComponent(l[2]):null}function Fe(e){let t={},a=e.split("?")[1];if(a){a.split("&").forEach((e=>{let a=e.split("="),l=a[0],n=a[1];l&&(t[l]=decodeURIComponent(n))}))}return t}function Oe(){return(new Date).getTime()+"_"+1e4*Math.random()+"_"+1e4*Math.random()}const We=function(e){const{style:t,spinTip:a="",ajaxLoad:l,nodata:n=!1,isTable:s=!0,nodataMessage:r="\u6682\u65e0\u6570\u636e"}=e;let i="ysd-result-flow";return(0,C.jsx)("div",{className:i,style:t,children:!0===l?(0,C.jsx)("div",{className:`${i}-load`,children:(0,C.jsx)(x.A,{size:"large",tip:a})}):(0,C.jsx)(C.Fragment,{children:!s&&n?(0,C.jsx)("div",{className:`${i}-nodata`,children:(0,C.jsx)("div",{className:`${i}-nodata-img`,children:r})}):(0,C.jsx)("div",{className:`${i}-data`,children:e.children})})})};var Ke=a(92163),Le=a(94889),Re=a(93231),Me=a(40407),Ue=a(88349),Ye=a(77484),Ge=a(8750);const{getDataset:Ve,uploadFile:Pe,importDataset:Je}=ge.dataset,qe=[{title:"\u6570\u636e\u96c6\u540d\u79f0",dataIndex:"dataSetName"}];class He extends l.Component{constructor(){super(...arguments),this.state={dataSource:[],totalDataSource:[],pagination:{current:1,pageSize:10,simple:!0,showSizeChanger:!1,position:["bottomCenter"]},loading:!1},this.fetchData=e=>{Ve({pn:e.current,pageSize:e.pageSize}).then((t=>{const a={...this.state.pagination,...e};a.total=t.total,this.setState({loading:!1,dataSource:X()(t.data,"id"),totalDataSource:X()(this.state.totalDataSource.concat(t.data),"id"),pagination:a})}))}}componentDidMount(){this.fetchData(this.state.pagination)}render(){const{targetKeys:e=[]}=this.props,{dataSource:t,pagination:a,totalDataSource:l,loading:n}=this.state;return(0,C.jsx)(G.A,{...this.props,dataSource:t,rowKey:e=>e.id,titles:["\u6570\u636e\u96c6","\u5df2\u9009\u6570\u636e\u96c6"],listStyle:{width:300,height:480},className:"table-transfer",selectionsIcon:(0,C.jsx)("span",{}),selectAllLabels:[e=>{let{selectedCount:t,totalCount:a}=e;return(0,C.jsxs)("span",{children:[t,"/",a]})},(0,C.jsx)("span",{children:"\u5168\u9009"})],children:s=>{let{direction:r,onItemSelectAll:i,onItemSelect:o,selectedKeys:d,disabled:c}=s;const u={getCheckboxProps:e=>({disabled:c||e.disabled}),onSelectAll(e,t){const a=t.filter((e=>!e.disabled)).map((e=>{let{id:t}=e;return t})),l=e?ee()(a,d):ee()(d,a);i(l,e)},onSelect(e,t){let{id:a}=e;o(a,t)},selectedRowKeys:d},m=l.filter((t=>e.includes(t.id))),h=t.map((t=>({...t,disabled:e.includes(t.id)})));return(0,C.jsx)(O.A,{showHeader:!1,rowSelection:u,columns:qe,loading:"left"===r&&n,dataSource:"left"===r?h:m,size:"small",rowKey:"id",onRow:e=>{let{id:t,disabled:a}=e;return{onClick:()=>{a||o(t,!d.includes(t))}}},onChange:e=>{if("left"===r){const t={...this.state.pagination};t.current=e.current,this.setState({pagination:t}),this.fetchData(e)}},pagination:"left"===r&&a})}})}}const Ze=He,{Dragger:$e}=Re.A,{getDataset:Xe,uploadFile:_e,importDataset:et}=ge.dataset,tt={image:{image:["\u652f\u6301\u56fe\u7247\u683c\u5f0f\uff1ajpg\u3001jpeg\u3001png\u3001bmp","\u56fe\u7247\u5206\u8fa8\u7387\u9650\u5236\uff1a64px*64px\u2264\u56fe\u7247\u5206\u8fa8\u7387\u22644096px*4096px","\u56fe\u7247\u540d\u79f0\u957f\u5ea6\u2264200\u5b57\u7b26","\u56fe\u7247\u540d\u79f0\u4e0d\u53ef\u4ee5\u5305\u542b\u7279\u6b8a\u7b26\u53f7\uff1a$\u3001%\u3001&","\u5355\u5f20\u56fe\u7247\u5927\u5c0f\u226420MB","\u652f\u6301\u540c\u65f6\u4e0a\u4f20\u591a\u5f20\u56fe\u7247\uff0c\u5efa\u8bae\u5355\u6b21\u4e0a\u4f20\u56fe\u7247\u6570\u636e\u2264500\u5f20"],folder:["\u652f\u6301\u56fe\u7247\u683c\u5f0f\uff1ajpg\u3001jpeg\u3001png\u3001bmp","\u56fe\u7247\u5206\u8fa8\u7387\u9650\u5236\uff1a64px*64px\u2264\u56fe\u7247\u5206\u8fa8\u7387\u22644096px*4096px","\u56fe\u7247\u540d\u79f0\u957f\u5ea6\u2264200\u5b57\u7b26","\u56fe\u7247\u540d\u79f0\u4e0d\u53ef\u4ee5\u5305\u542b\u7279\u6b8a\u7b26\u53f7\uff1a$\u3001%\u3001&","\u5355\u5f20\u56fe\u7247\u5927\u5c0f\u226420MB","\u5efa\u8bae\u5355\u6b21\u4e0a\u4f20\u56fe\u7247\u6570\u636e\u2264500\u5f20"],zip:["\u652f\u6301\u56fe\u7247\u683c\u5f0f\uff1ajpg\u3001jpeg\u3001png\u3001bmp","\u56fe\u7247\u5206\u8fa8\u7387\u9650\u5236\uff1a64px*64px\u2264\u56fe\u7247\u5206\u8fa8\u7387\u22644096px*4096px","\u56fe\u7247\u540d\u79f0\u957f\u5ea6\u2264200\u5b57\u7b26","\u56fe\u7247\u540d\u79f0\u4e0d\u53ef\u4ee5\u5305\u542b\u7279\u6b8a\u7b26\u53f7\uff1a$\u3001%\u3001&","\u5355\u5f20\u56fe\u7247\u5927\u5c0f\u226420MB","\u538b\u7f29\u5305\u5927\u5c0f\u22645GB\uff1b\u652f\u6301\u538b\u7f29\u5305\u683c\u5f0f\uff1azip"]},video:{image:["\u652f\u6301\u89c6\u9891\u683c\u5f0f\uff1amp4\uff1b\u7f16\u7801\u65b9\u5f0f\uff1aH.264\u548cH.265","\u89c6\u9891\u5206\u8fa8\u7387\u9650\u5236\uff1a1280px*720px\u2264\u89c6\u9891\u5206\u8fa8\u7387\u22643264px*2448px","\u89c6\u9891\u540d\u79f0\u957f\u5ea6\u2264200\u5b57\u7b26","\u89c6\u9891\u540d\u79f0\u4e0d\u53ef\u4ee5\u5305\u542b\u7279\u6b8a\u7b26\u53f7\uff1a$\u3001%\u3001&","\u5355\u4e2a\u89c6\u9891\u65f6\u957f\u226410s","\u652f\u6301\u540c\u65f6\u4e0a\u4f20\u591a\u4e2a\u89c6\u9891\uff0c\u5efa\u8bae\u5355\u6b21\u4e0a\u4f20\u89c6\u9891\u6570\u636e\u2264100\u4e2a"],folder:["\u652f\u6301\u89c6\u9891\u683c\u5f0f\uff1amp4\uff1b\u7f16\u7801\u65b9\u5f0f\uff1aH.264\u548cH.265","\u89c6\u9891\u5206\u8fa8\u7387\u9650\u5236\uff1a1280px*720px\u2264\u89c6\u9891\u5206\u8fa8\u7387\u22643264px*2448px","\u89c6\u9891\u540d\u79f0\u957f\u5ea6\u2264200\u5b57\u7b26","\u89c6\u9891\u540d\u79f0\u4e0d\u53ef\u4ee5\u5305\u542b\u7279\u6b8a\u7b26\u53f7\uff1a$\u3001%\u3001&","\u5355\u4e2a\u89c6\u9891\u65f6\u957f\u226410s"],zip:["\u652f\u6301\u89c6\u9891\u683c\u5f0f\uff1amp4\uff1b\u7f16\u7801\u65b9\u5f0f\uff1aH.264\u548cH.265","\u89c6\u9891\u5206\u8fa8\u7387\u9650\u5236\uff1a1280px*720px\u2264\u89c6\u9891\u5206\u8fa8\u7387\u22643264px*2448px","\u89c6\u9891\u540d\u79f0\u957f\u5ea6\u2264200\u5b57\u7b26","\u89c6\u9891\u540d\u79f0\u4e0d\u53ef\u4ee5\u5305\u542b\u7279\u6b8a\u7b26\u53f7\uff1a$\u3001%\u3001&","\u5355\u4e2a\u89c6\u9891\u65f6\u957f\u226410s","\u538b\u7f29\u5305\u5927\u5c0f\u22645GB\uff1b\u652f\u6301\u538b\u7f29\u5305\u683c\u5f0f\uff1azip"]}},at={image:{image:"image/jpeg,image/png,image/bmp",folder:"",zip:"application/zip"},video:{image:"video/mp4",folder:"",zip:"application/zip"}},lt=e=>{const{visible:t,onCancel:a,onOk:n,importType:s="existing",data:r={}}=e,i=(null===r||void 0===r?void 0:r.dataType)||"image",[o,d]=(0,l.useState)([]),[c]=L.A.useForm(),[u,m]=(0,l.useState)(s),[h,p]=(0,l.useState)("image"),[g,A]=(0,l.useState)({fileList:[],selectedKeys:[],streams:[]}),x={name:"file",multiple:!0,action:"http://localhost:3002/dataset/upload",onChange:e=>{const{status:t}=e.file;if(console.log(e,"info"),"done"===t){const{response:t}=e.file;A({...g,fileList:[...g.fileList,null===t||void 0===t?void 0:t.url]}),ve.Ay.success(`${e.file.name} \u6587\u4ef6\u4e0a\u4f20\u6210\u529f`)}else"error"===t&&ve.Ay.error(`${e.file.name} \u6587\u4ef6\u4e0a\u4f20\u5931\u8d25`)},beforeUpload:e=>{let t;switch(console.log(e),h){case"image":case"folder":t="image"===i?e.name.endsWith(".jpg")||e.name.endsWith(".png")||e.name.endsWith(".jpeg")||e.name.endsWith(".bmp"):e.name.endsWith(".mp4");break;case"zip":t=e.name.endsWith(".zip");break;default:t=!1}return console.log(t,e),t||ve.Ay.error(`\u6587\u4ef6 ${e.name} \u4e0d\u7b26\u5408\u4e0a\u4f20\u8981\u6c42`),t||Re.A.LIST_IGNORE},directory:"folder"===h,accept:at[i][h]},j=[{key:"existing",label:"\u4ece\u5df2\u6709\u6570\u636e\u96c6\u5bfc\u5165",children:(0,C.jsx)(Ze,{targetKeys:o,onChange:(e,t,a)=>{d(e),A({...g,selectedKeys:e})}})},{key:"local",label:"\u5bfc\u5165\u672c\u5730\u6570\u636e",children:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(Me.A,{defaultActiveKey:"image",onChange:e=>p(e),activeKey:h,className:"import-data-modal-content-tabs",children:[(0,C.jsx)(Me.A.TabPane,{tab:"image"===i?"\u56fe\u7247\u4e0a\u4f20":"\u89c6\u9891\u4e0a\u4f20",children:(0,C.jsxs)($e,{...x,children:[(0,C.jsx)("p",{className:"ant-upload-drag-icon",children:(0,C.jsx)(Ue.A,{})}),(0,C.jsxs)("p",{className:"ant-upload-text",children:["\u70b9\u51fb\u6216\u62d6\u62fd","image"===i?"\u56fe\u7247":"\u89c6\u9891","\u6587\u4ef6\u5230\u6b64\u533a\u57df\u4e0a\u4f20"]})]})},"image"),(0,C.jsx)(Me.A.TabPane,{tab:"\u6587\u4ef6\u5939\u4e0a\u4f20",children:(0,C.jsxs)($e,{...x,children:[(0,C.jsx)("p",{className:"ant-upload-drag-icon",children:(0,C.jsx)(Ue.A,{})}),(0,C.jsx)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u6216\u62d6\u62fd\u6587\u4ef6\u5939\u5230\u6b64\u533a\u57df\u4e0a\u4f20"})]})},"folder"),(0,C.jsx)(Me.A.TabPane,{tab:"\u538b\u7f29\u5305\u4e0a\u4f20",children:(0,C.jsxs)($e,{...x,children:[(0,C.jsx)("p",{className:"ant-upload-drag-icon",children:(0,C.jsx)(Ue.A,{})}),(0,C.jsx)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u6216\u62d6\u62fd\u538b\u7f29\u5305\u6587\u4ef6\u5230\u6b64\u533a\u57df\u4e0a\u4f20"})]})},"zip")]}),(0,C.jsxs)("div",{className:"explain-data",children:[(0,C.jsx)("p",{children:"\u4e0a\u4f20\u8bf4\u660e"}),(0,C.jsx)("ul",{children:tt[i][h].map((e=>(0,C.jsx)("li",{children:e},e)))})]})]})},{key:"stream",label:"\u5bfc\u5165\u6d41\u5f0f\u6570\u636e",children:(0,C.jsx)(L.A,{form:c,layout:"horizontal",children:(0,C.jsx)(L.A.List,{name:"streams",initialValue:[""],rules:[{validator:async(e,t)=>{if(!t||t.length<1)return Promise.reject(new Error("\u81f3\u5c11\u9700\u8981\u4e00\u4e2a\u62c9\u6d41\u5730\u5740"))}}],children:(e,t,a)=>{let{add:l,remove:n}=t,{errors:s}=a;return(0,C.jsxs)(C.Fragment,{children:[e.map(((t,a)=>(0,C.jsx)(L.A.Item,{required:!1,label:"\u62c9\u6d41\u5730\u5740",children:(0,C.jsxs)(D.A,{children:[(0,C.jsx)(L.A.Item,{...t,validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u62c9\u6d41\u5730\u5740"},{type:"url",message:"\u8bf7\u8f93\u5165\u6709\u6548\u7684URL\u5730\u5740"}],noStyle:!0,children:(0,C.jsx)(R.A,{placeholder:"\u8bf7\u8f93\u5165\u62c9\u6d41\u5730\u5740",style:{width:"400px"}})}),e.length>1&&(0,C.jsx)(Ye.A,{className:"dynamic-delete-button",onClick:()=>n(t.name)})]})},t.key+a))),(0,C.jsxs)(L.A.Item,{children:[(0,C.jsx)(z.Ay,{type:"dashed",onClick:()=>l(),icon:(0,C.jsx)(Ge.A,{}),style:{width:"400px"},children:"\u6dfb\u52a0\u62c9\u6d41\u5730\u5740"}),(0,C.jsx)(L.A.ErrorList,{errors:s})]})]})}})})}];return(0,l.useEffect)((()=>{console.log("activeTab",u),A({fileList:[],selectedKeys:[],streams:[]})}),[u]),(0,l.useEffect)((()=>{t&&(m(s),p("image"))}),[t]),(0,C.jsx)(ke.A,{title:"\u5bfc\u5165\u6570\u636e",open:t,onCancel:a,onOk:()=>{var e;const t=(null===(e=c.getFieldValue("streams"))||void 0===e?void 0:e.filter((e=>!!e)))||[],l={...g,streams:t};0!==l.fileList.length||0!==l.streams.length||0!==l.selectedKeys.length?et(l).then((e=>{console.log(e,"res"),ve.Ay.success(e.message||"\u5bfc\u5165\u6210\u529f"),a()})).catch((e=>{console.log(e,"err"),ve.Ay.error(e.message||"\u5bfc\u5165\u5931\u8d25")})):ve.Ay.error("\u8bf7\u81f3\u5c11\u5bfc\u5165\u4e00\u4e2a\u6570\u636e")},width:623,className:"import-data-modal modal-common",okText:"\u786e\u8ba4\u5bfc\u5165",cancelText:"\u53d6\u6d88",children:(0,C.jsx)(Me.A,{className:"import-data-modal-tabs",defaultActiveKey:u,items:j,activeKey:u,onChange:e=>m(e)})})},{TextArea:nt}=R.A,{createDataset:st,editDataset:rt}=ge.dataset,it=[{label:"\u56fe\u7247",value:"image"},{label:"\u89c6\u9891",value:"video"}],ot=e=>{const{visible:t,onCancel:a,onOk:n,editingDataset:s}=e,[r]=L.A.useForm(),[i,o]=(0,l.useState)({visible:!1,type:null,data:{}}),d=()=>{r.validateFields().then((e=>{console.log("Success:",e),s?rt(e).then((e=>{ve.Ay.success(e.message||"\u7f16\u8f91\u6210\u529f"),null===n||void 0===n||n()})).catch((e=>{console.log(e.message||"\u7f16\u8f91\u5931\u8d25")})):st(e).then((e=>{ve.Ay.success(e.message||"\u521b\u5efa\u6210\u529f"),null===n||void 0===n||n()})).catch((e=>{console.log(e.message||"\u521b\u5efa\u5931\u8d25")}))})).catch((e=>{console.log("Error:",e)}))},c=()=>{r.resetFields(),null===a||void 0===a||a()};return(0,l.useEffect)((()=>{t&&r.setFieldsValue(s)}),[t]),(0,C.jsxs)(ke.A,{title:s?"\u7f16\u8f91\u6570\u636e\u96c6":"\u521b\u5efa\u6570\u636e\u96c6",open:t,onCancel:c,onOk:d,className:"dataset-modal modal-common",footer:[(0,C.jsx)(z.Ay,{onClick:c,children:"\u53d6\u6d88"},"cancel"),s?(0,C.jsx)(z.Ay,{type:"primary",onClick:d,children:"\u786e\u5b9a"},"submit"):(0,C.jsxs)("div",{children:[(0,C.jsx)(Ke.A,{menu:{items:[{key:"existing",label:"\u5df2\u6709\u6570\u636e\u96c6"},{key:"local",label:"\u672c\u5730\u6570\u636e"},{key:"stream",label:"\u6d41\u5f0f\u6570\u636e"}],onClick:e=>{let{key:t}=e;r.validateFields().then((e=>{o({visible:!0,type:t,data:e})})).catch((e=>{console.log(e.message||"\u521b\u5efa\u5931\u8d25")}))}},children:(0,C.jsx)(z.Ay,{children:(0,C.jsxs)(D.A,{children:["\u521b\u5efa\u5e76\u5bfc\u5165",(0,C.jsx)(Le.A,{})]})})},"import"),(0,C.jsx)(z.Ay,{type:"primary",onClick:d,children:"\u76f4\u63a5\u521b\u5efa"},"submit")]})],children:[(0,C.jsxs)(L.A,{form:r,layout:"vertical",className:"dataset-form",children:[(0,C.jsx)(L.A.Item,{name:"dataSetName",label:"\u6570\u636e\u96c6\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6570\u636e\u96c6\u540d\u79f0"}],children:(0,C.jsx)(R.A,{placeholder:"\u8bf7\u8f93\u5165\u6570\u636e\u96c6\u540d\u79f0"})}),(0,C.jsx)(L.A.Item,{name:"dataType",label:"\u6570\u636e\u7c7b\u578b",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u7c7b\u578b"}],children:(0,C.jsx)(K.A,{options:it,allowClear:!0,placeholder:"\u8bf7\u9009\u62e9\u6570\u636e\u7c7b\u578b"})}),(0,C.jsx)(L.A.Item,{name:"versionRemark",label:"\u7248\u672c\u5907\u6ce8",children:(0,C.jsx)(nt,{placeholder:"\u8bf7\u8f93\u5165\u7248\u672c\u5907\u6ce8"})})]}),(0,C.jsx)(lt,{visible:i.visible,importType:i.type,data:i.data,onOk:e=>o({visible:!1,type:i.type,data:e}),onCancel:e=>o({visible:!1,type:i.type,data:{}})})]})},{getTrainingModelList:dt,deleteTrainingModel:ct,editTrainingModel:ut}=ge.trainingmodel,{getDataset:mt}=ge.dataset,{Content:ht}=j.A,pt={data:[],total:0},gt=()=>{const[e,t]=(0,l.useState)(!1),[a,n]=(0,l.useState)(null);let r=(0,A.Zp)();const i=(0,s.wA)(),o=(0,s.d4)((e=>e.comment.routerData)),[d]=L.A.useForm(),u=Te({tableBox:240,table:300}),m={pn:1,pageSize:De[0],taskName:"",taskType:"",taskStatus:"",dataset:[],sort:"",order:""},[h,p,g,x]=Ee(m),[y,b]=(0,l.useState)([]),[f,v]=(0,l.useState)(pt),{loading:S,run:k}=Be({ajax:dt,loadingDelay:500,debounceWait:300,onBefore:e=>{v(pt)},onSuccess:(e,t)=>{Array.isArray(e.data)&&(e.data.forEach(((e,t)=>{e.key=Oe(),e.sortT=g.current.pageSize*(g.current.pn-1)+t+1})),v({data:e.data,total:e.total}))},onError:(e,t)=>{console.log(e)}}),I=()=>{k({...g.current})},w=(e,t)=>{p({...h,pn:1,[e]:t}),I()},N=[{title:"\u4efb\u52a1\u540d\u79f0",dataIndex:"taskName",key:"taskName",ellipsis:!0,width:250},{title:"\u4efb\u52a1\u7c7b\u578b",dataIndex:"taskType",key:"taskType",width:200},{title:"\u4efb\u52a1\u72b6\u6001",dataIndex:"taskStatus",key:"taskStatus",width:200,render:e=>{const t=1===e?"success":"processing";return(0,C.jsx)("span",{className:`status-tag ${t}`,children:1==e?"\u8bad\u7ec3\u5b8c\u6210":"\u8bad\u7ec3\u4e2d"})}},{title:"\u8bad\u7ec3\u96c6",dataIndex:"dataset",key:"dataset",width:200,ellipsis:!0},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",key:"createTime",sorter:!0,sortOrder:"createTime"==h.sort&&h.order,width:200},{title:"\u64cd\u4f5c",key:"action",width:300,render:(e,a)=>(0,C.jsxs)(D.A,{size:"middle",children:[(0,C.jsx)(z.Ay,{type:"link",onClick:()=>(e=>{i(c({...o,breadcrumb:[...o.breadcrumb,{text:e.taskName,path:`/training-model?form=${encodeURIComponent(JSON.stringify(g.current))}`},{text:"\u8bad\u7ec3\u7ed3\u679c"}]})),r(`/training-result?id=${e.id}&breadcrumbName=${e.taskName}&form=${encodeURIComponent(JSON.stringify(g.current))}`)})(a),children:"\u8bad\u7ec3\u7ed3\u679c"}),(0,C.jsx)(z.Ay,{type:"link",onClick:()=>{n(a),t(!0)},children:"\u7f16\u8f91\u540d\u79f0"}),(0,C.jsx)(Ce.A,{title:"\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u8bad\u7ec3\u4efb\u52a1\u5417\uff1f",onConfirm:()=>{return e=a.id,void ct({id:e}).then((e=>{ve.Ay.success(e.message||"\u5220\u9664\u6210\u529f"),I()})).catch((e=>{ve.Ay.error(e.message||"\u5220\u9664\u5931\u8d25"),console.log(e)}));var e},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:(0,C.jsx)(z.Ay,{type:"link",danger:!0,children:"\u5220\u9664\u4efb\u52a1"})})]})}];(0,l.useEffect)((()=>{}),[h]),(0,l.useEffect)((()=>{mt().then((e=>{console.log(e),e.data.forEach(((e,t)=>{e.key=Oe(),e.label=e.dataSetName,e.value=e.id})),b(e.data)})).catch((e=>{ve.Ay.error(e.message||"\u83b7\u53d6\u8bad\u7ec3\u96c6\u5931\u8d25"),console.log(e)}));const e=Fe(window.location.search);e.form&&p({...h,...JSON.parse(decodeURIComponent(e.form))}),I()}),[]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(j.A,{className:"training-model-page",children:(0,C.jsxs)(ht,{children:[(0,C.jsxs)(L.A,{form:d,layout:"vertical",className:"search-form",children:[(0,C.jsx)(L.A.Item,{label:"\u4efb\u52a1\u540d\u79f0",children:(0,C.jsx)(R.A.Search,{enterButton:"\u68c0\u7d22",placeholder:"\u8bf7\u8f93\u5165\u4efb\u52a1\u540d\u79f0",suffix:(0,C.jsx)(Ie.A,{}),allowClear:!0,onChange:e=>{p({...h,taskName:e.target.value.trim()})},onSearch:e=>{p({...h,pn:1,taskName:e.trim()}),I()},loading:S,value:h.taskName})}),(0,C.jsx)(L.A.Item,{label:"\u4efb\u52a1\u7c7b\u578b",children:(0,C.jsx)(K.A,{placeholder:"\u8bf7\u9009\u62e9\u4efb\u52a1\u7c7b\u578b",allowClear:!0,options:[{value:1,label:"\u5206\u7c7b"},{value:2,label:"\u68c0\u6d4b"}],onChange:e=>w("taskType",e),value:h.taskType})}),(0,C.jsx)(L.A.Item,{label:"\u4efb\u52a1\u72b6\u6001",children:(0,C.jsx)(K.A,{placeholder:"\u8bf7\u9009\u62e9\u4efb\u52a1\u72b6\u6001",allowClear:!0,options:[{value:0,label:"\u8bad\u7ec3\u4e2d"},{value:1,label:"\u8bad\u7ec3\u5b8c\u6210"}],value:h.taskStatus,onChange:e=>w("taskStatus",e)})}),(0,C.jsx)(L.A.Item,{label:"\u8bad\u7ec3\u96c6",children:(0,C.jsx)(K.A,{placeholder:"\u8bf7\u9009\u62e9\u8bad\u7ec3\u96c6",allowClear:!0,mode:"multiple",maxTagCount:1,options:y,onChange:e=>w("dataset",e),value:h.dataset})}),(0,C.jsx)(L.A.Item,{label:" ",className:"search-form-btn",children:(0,C.jsx)(D.A,{children:(0,C.jsx)(z.Ay,{onClick:()=>{p({...m,pn:1}),I()},children:"\u91cd\u7f6e"})})})]}),(0,C.jsxs)("div",{className:"result-box",children:[(0,C.jsxs)("div",{className:"result-title",children:[(0,C.jsxs)("span",{className:"result-title-count",children:["\u5171 ",(0,C.jsx)("span",{children:f.total})," \u6761\u7ed3\u679c"]}),(0,C.jsx)("div",{className:"result-title-btn",children:(0,C.jsx)(z.Ay,{type:"primary",onClick:()=>r("/training-task"),children:"\u521b\u5efa\u8bad\u7ec3\u4efb\u52a1"})})]}),(0,C.jsx)(We,{ajaxLoad:S,nodata:!f.data.length,style:{height:u.tableBox},children:(0,C.jsx)(O.A,{rowKey:"key",className:"table-common",onChange:(e,t,a)=>{p({...h,pn:1,sort:a.field||"",order:a.order||""}),I()},pagination:!1,bordered:!0,scroll:{y:u.table,x:1200},columns:N,dataSource:f.data})}),(0,C.jsx)(Se.A,{style:{display:f.data.length?"flex":"none"},align:"center",className:"pagination-common",showSizeChanger:!0,showQuickJumper:!0,showTotal:()=>`\u5171 ${f.total} \u6761`,total:f.total,current:h.pn,pageSize:h.pageSize,pageSizeOptions:De,onChange:(e,t)=>{g.current.pageSize!==t&&(e=1),p({...g.current,pageSize:t,pn:e}),I()}})]})]})}),(0,C.jsx)(ke.A,{title:"\u7f16\u8f91\u4efb\u52a1\u540d\u79f0",open:e,onOk:()=>{const e=d.getFieldValue("taskName");e&&e!==a.taskName?ut({id:a.id,taskName:e}).then((e=>{ve.Ay.success(e.message||"\u540d\u79f0\u66f4\u65b0\u6210\u529f"),I(),t(!1)})).catch((e=>ve.Ay.error(e.message||"\u66f4\u65b0\u5931\u8d25"))):ve.Ay.warning("\u4efb\u52a1\u540d\u79f0\u672a\u4fee\u6539\uff01")},onCancel:()=>t(!1),okText:"\u4fdd\u5b58",cancelText:"\u53d6\u6d88",children:(0,C.jsx)(L.A,{form:d,initialValues:{taskName:null===a||void 0===a?void 0:a.taskName},children:(0,C.jsx)(L.A.Item,{label:"\u4efb\u52a1\u540d\u79f0",name:"taskName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4efb\u52a1\u540d\u79f0"}],children:(0,C.jsx)(R.A,{placeholder:"\u8bf7\u8f93\u5165\u65b0\u540d\u79f0"})})})})]})};var At=a(85333),xt=a(72075),jt=a(99494),yt=a(82252);a(66259);const{Dragger:bt}=Re.A,ft=e=>{let{value:t={},onChange:a,disabled:n}=e;console.log(t);const{cropperData:s,imageUrl:r}=t,[i,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(r||""),[u,m]=(0,l.useState)(s||null),[h,p]=(0,l.useState)(1),[g,A]=(0,l.useState)({x:0,y:0}),x=(0,l.useRef)(null),j=(0,l.useRef)(null),y=e=>{if(!j.current)return{scale:1,x:0,y:0};const t=j.current.clientWidth,a=j.current.clientHeight,l=t/e.naturalWidth,n=a/e.naturalHeight,s=Math.min(l,n);return{scale:s,x:(t-e.naturalWidth*s)/2,y:(a-e.naturalHeight*s)/2}};return(0,l.useEffect)((()=>{if(r){c(r),m(s||{});const e=new Image;e.src=r,e.onload=()=>{const{scale:t,x:a,y:l}=y(e);console.log(t,a,l),p(t),A({x:a,y:l})}}}),[r]),(0,C.jsxs)("div",{className:"box-selector",children:[d?(0,C.jsxs)("div",{className:"box-selector-content",children:[d?(0,C.jsx)("div",{className:"box-selector-preview",ref:j,children:(0,C.jsxs)("div",{className:"box-selector-preview-image",children:[(0,C.jsx)("img",{src:d,alt:"\u9884\u89c8"}),u&&(0,C.jsx)("div",{className:"box-selector-box",style:{transform:`translate(${g.x}px, ${g.y}px)`,left:u.x*h+"px",top:u.y*h+"px",width:u.width*h+"px",height:u.height*h+"px"}})]})}):null,!n&&(0,C.jsxs)("div",{className:"box-selector-actions",children:[(0,C.jsx)(z.Ay,{onClick:()=>o(!0),children:"\u91cd\u65b0\u6846\u9009"}),(0,C.jsx)(z.Ay,{onClick:()=>{c(""),m(null),null===a||void 0===a||a({imageUrl:"",cropperData:null})},children:"\u6e05\u9664"})]})]}):(0,C.jsxs)(bt,{accept:"image/*",showUploadList:!1,beforeUpload:e=>{if(!e.type.startsWith("image/"))return ve.Ay.error("\u53ea\u80fd\u4e0a\u4f20\u56fe\u7247\u6587\u4ef6\uff01"),!1;const t=new FileReader;return t.readAsDataURL(e),t.onload=()=>{const e=new Image;e.src=t.result,e.onload=()=>{c(t.result),o(!0),setTimeout((()=>{const{scale:t,x:a,y:l}=y(e);p(t),A({x:a,y:l})}),100)}},!1},disabled:n,children:[(0,C.jsx)("p",{className:"ant-upload-drag-icon",children:(0,C.jsx)(Ue.A,{})}),(0,C.jsx)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u6216\u62d6\u62fd\u56fe\u7247\u5230\u6b64\u533a\u57df\u8fdb\u884c\u6846\u9009"})]}),(0,C.jsx)(ke.A,{title:"\u6846\u9009\u76ee\u6807",open:i,onOk:()=>{if(x.current){const e=x.current.cropper.getData();m(e),null===a||void 0===a||a({imageUrl:d,cropperData:e}),o(!1)}},onCancel:()=>{o(!1)},width:800,destroyOnClose:!0,children:(0,C.jsx)("div",{className:"box-selector-modal",children:(0,C.jsx)(yt.A,{ref:x,src:d,style:{height:400,width:"100%"},aspectRatio:NaN,guides:!0,viewMode:1,dragMode:"crop",zoomOnWheel:!1,movable:!1,autoCrop:!0,autoCropArea:-1,initialAspectRatio:1,restore:!1,modal:!0,highlight:!0,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,initialData:u})})})]})},{Content:vt}=j.A,{Option:Ct}=K.A,{createTrainingModel:St,editTrainingModel:kt,getTrainingModelDetail:It}=ge.trainingmodel,{getDataset:wt}=ge.dataset,{getAllLabelList:Nt}=ge.label,Et=()=>{const e=(0,A.zy)(),t=(0,A.Zp)(),[a]=L.A.useForm(),n=ze(e.search,"id"),[s,r]=(0,l.useState)([]),[i,o]=(0,l.useState)([]),d=[{label:"\u8f93\u5165",value:"input"},{label:"\u6846\u9009",value:"box"}];(0,l.useEffect)((()=>{n&&It({id:n}).then((e=>{a.setFieldsValue(e.data)})).catch((e=>{ve.Ay.error("\u83b7\u53d6\u4efb\u52a1\u8be6\u60c5\u5931\u8d25")}))}),[n]);return(0,l.useEffect)((()=>{Nt().then((e=>{console.log(e),o(e.data)})).catch((e=>{ve.Ay.error(e.message||"\u83b7\u53d6\u6807\u7b7e\u5217\u8868\u5931\u8d25")})),wt().then((e=>{r(e.data)})).catch((e=>{ve.Ay.error(e.message||"\u83b7\u53d6\u6570\u636e\u96c6\u5217\u8868\u5931\u8d25")}))}),[]),(0,C.jsx)(j.A,{className:"training-task-layout",children:(0,C.jsxs)(vt,{className:"training-task-content",children:[(0,C.jsx)("div",{className:"training-task-form-wrapper",children:(0,C.jsxs)(L.A,{form:a,layout:"horizontal",labelAlign:"right",className:"training-task-form",children:[(0,C.jsx)(L.A.Item,{name:"taskName",label:"\u4efb\u52a1\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4efb\u52a1\u540d\u79f0"}],children:(0,C.jsx)(R.A,{placeholder:"\u8bf7\u8f93\u5165\u4efb\u52a1\u540d\u79f0"})}),(0,C.jsx)(L.A.Item,{name:"taskType",label:"\u4efb\u52a1\u7c7b\u578b",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4efb\u52a1\u7c7b\u578b"}],children:(0,C.jsx)(K.A,{placeholder:"\u8bf7\u9009\u62e9\u4efb\u52a1\u7c7b\u578b",children:[{label:"\u5206\u7c7b\u4efb\u52a1",value:"classification"},{label:"\u68c0\u6d4b\u4efb\u52a1",value:"detection"},{label:"\u5206\u5272\u4efb\u52a1",value:"segmentation"}].map((e=>(0,C.jsx)(Ct,{value:e.value,children:e.label},e.value)))})}),(0,C.jsx)(L.A.Item,{name:"targetType",label:"\u8bbe\u5b9a\u76ee\u6807",initialValue:d[0].value,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8bbe\u5b9a\u76ee\u6807"}],children:(0,C.jsx)(At.Ay.Group,{children:d.map((e=>(0,C.jsx)(At.Ay,{value:e.value,children:e.label},e.value)))})}),(0,C.jsx)(L.A.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.targetType!==t.targetType,children:e=>{let{getFieldValue:t}=e;return"input"===t("targetType")?(0,C.jsx)(L.A.Item,{name:"targetValue",label:" ",colon:!1,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5185\u5bb9"}],children:(0,C.jsx)(R.A,{placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9"})}):(0,C.jsx)(L.A.Item,{name:"targetBox",label:" ",colon:!1,rules:[{required:!0,message:"\u8bf7\u8fdb\u884c\u76ee\u6807\u6846\u9009"}],children:(0,C.jsx)(ft,{})})}}),(0,C.jsx)(L.A.Item,{name:"idealAccuracy",label:"\u7406\u60f3\u7cbe\u5ea6",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7406\u60f3\u7cbe\u5ea6"}],children:(0,C.jsx)(xt.A,{min:0,max:100,precision:2,placeholder:"\u8bf7\u8f93\u5165\u7406\u60f3\u7cbe\u5ea6"})}),(0,C.jsx)(L.A.Item,{name:"maxOptimizationCount",label:"\u6700\u5927\u4f18\u5316\u6b21\u6570",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6700\u5927\u4f18\u5316\u6b21\u6570"}],children:(0,C.jsx)(xt.A,{min:1,placeholder:"\u8bf7\u8f93\u5165\u6700\u5927\u4f18\u5316\u6b21\u6570"})}),(0,C.jsx)(L.A.Item,{name:"datasets",label:"\u8bad\u7ec3\u96c6",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8bad\u7ec3\u96c6"}],children:(0,C.jsx)(K.A,{mode:"multiple",placeholder:"\u8bf7\u9009\u62e9\u8bad\u7ec3\u96c6",options:s.map((e=>({label:e.dataSetName,value:e.id}))),allowClear:!0})}),(0,C.jsx)(L.A.Item,{name:"labels",label:"\u9009\u62e9\u6807\u7b7e",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6807\u7b7e"}],children:(0,C.jsx)(jt.A,{mode:"multiple",placeholder:"\u8bf7\u9009\u62e9\u6807\u7b7e",treeData:i,treeCheckable:!0,allowClear:!0,showCheckedStrategy:jt.A.SHOW_CHILD,fieldNames:{label:"name",value:"id",children:"labels"}})})]})}),(0,C.jsx)("div",{className:"training-task-footer",children:(0,C.jsxs)(D.A,{size:24,children:[(0,C.jsx)(z.Ay,{onClick:()=>{t("/training-model")},children:"\u53d6\u6d88"}),(0,C.jsx)(z.Ay,{type:"primary",onClick:()=>{a.validateFields().then((e=>{(n?kt:St)(n?{...e,id:n}:e).then((e=>{ve.Ay.success(n?"\u7f16\u8f91\u6210\u529f":"\u521b\u5efa\u6210\u529f"),t("/training-model")})).catch((e=>{ve.Ay.error(e.message||(n?"\u7f16\u8f91\u5931\u8d25":"\u521b\u5efa\u5931\u8d25"))}))})).catch((e=>{console.log(e)}))},children:n?"\u4fdd\u5b58":"\u5f00\u59cb\u8bad\u7ec3"})]})})]})})};var Bt=a(9762),Tt=a(3491);const{Content:Qt}=j.A,{getTrainingModelDetail:Dt}=ge.trainingmodel,zt=()=>{var e;const t=(0,A.zy)(),a=(0,A.Zp)(),n=ze(t.search,"id"),[s,r]=(0,l.useState)(null),i=l.useRef(null),{data:o}=Be({ajax:Dt,params:{id:n},onError:e=>{ve.Ay.error(e.message||"\u83b7\u53d6\u8bad\u7ec3\u4efb\u52a1\u8be6\u60c5\u5931\u8d25")}});(0,l.useEffect)((()=>{if(i.current){const e=Tt.Ts(i.current);r(e);const t={title:{text:"\u8bad\u7ec3\u7cbe\u5ea6\u66f2\u7ebf"},tooltip:{trigger:"axis"},legend:{data:["\u8bad\u7ec3\u7cbe\u5ea6","\u9a8c\u8bc1\u7cbe\u5ea6"]},xAxis:{type:"category",data:["1","2","3","4","5","6","7","8","9","10"]},yAxis:{type:"value",min:0,max:100},series:[{name:"\u8bad\u7ec3\u7cbe\u5ea6",type:"line",data:[65,72,78,82,85,88,90,92,94,95]},{name:"\u9a8c\u8bc1\u7cbe\u5ea6",type:"line",data:[60,68,75,80,83,86,88,90,92,93]}]};e.setOption(t);const a=()=>{e.resize()};return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),e.dispose()}}}),[]),(0,l.useEffect)((()=>{s&&null!==o&&void 0!==o&&o.accuracyData}),[s,o]);return(0,C.jsx)(j.A,{className:"training-result-details",children:(0,C.jsxs)(Qt,{className:"training-result-content",children:[(0,C.jsx)("div",{className:"training-result-wrapper",children:(0,C.jsxs)("div",{className:"training-result-inner",children:[(0,C.jsx)(F.A,{title:"\u57fa\u672c\u4fe1\u606f",className:"training-result-card",children:(0,C.jsxs)(Bt.A,{column:2,children:[(0,C.jsx)(Bt.A.Item,{label:"\u4efb\u52a1\u7c7b\u578b",children:"classification"===(null===o||void 0===o?void 0:o.taskType)?"\u5206\u7c7b\u4efb\u52a1":"detection"===(null===o||void 0===o?void 0:o.taskType)?"\u68c0\u6d4b\u4efb\u52a1":"segmentation"===(null===o||void 0===o?void 0:o.taskType)?"\u5206\u5272\u4efb\u52a1":"-"}),(0,C.jsx)(Bt.A.Item,{label:"\u8bbe\u5b9a\u76ee\u6807",children:"input"===(null===o||void 0===o?void 0:o.targetType)?"\u8f93\u5165":"box"===(null===o||void 0===o?void 0:o.targetType)?"\u6846\u9009":"-"}),(0,C.jsx)(Bt.A.Item,{label:"\u8bad\u7ec3\u96c6",children:null===o||void 0===o||null===(e=o.datasets)||void 0===e?void 0:e.map((e=>e.dataSetName)).join(", ")}),(0,C.jsxs)(Bt.A.Item,{label:"\u7406\u60f3\u7cbe\u5ea6",children:[null===o||void 0===o?void 0:o.idealAccuracy,"%"]}),(0,C.jsx)(Bt.A.Item,{label:"\u6700\u5927\u4f18\u5316\u6b21\u6570",children:null===o||void 0===o?void 0:o.maxOptimizationCount}),(0,C.jsx)(Bt.A.Item,{label:"\u5f53\u524d\u72b6\u6001",children:"completed"===(null===o||void 0===o?void 0:o.status)?"\u5df2\u5b8c\u6210":"training"===(null===o||void 0===o?void 0:o.status)?"\u8bad\u7ec3\u4e2d":"failed"===(null===o||void 0===o?void 0:o.status)?"\u5931\u8d25":"-"})]})}),(0,C.jsx)(F.A,{title:"\u6570\u636e\u5206\u6790",className:"training-result-card",children:(0,C.jsx)("div",{className:"training-result-empty",children:"\u6682\u65e0\u6570\u636e"})}),(0,C.jsx)(F.A,{title:"\u7cbe\u5ea6\u66f2\u7ebf",className:"training-result-card",children:(0,C.jsx)("div",{ref:i,className:"training-result-chart"})})]})}),(0,C.jsx)("div",{className:"training-result-footer",children:(0,C.jsx)(z.Ay,{onClick:()=>{const e=Fe(window.location.search);e.form?a(`/training-model?form=${e.form}`):a("/training-model")},children:"\u8fd4\u56de"})})]})})};var Ft=a(35621),Ot=a(1203),Wt=a(37866);const{Option:Kt}=K.A,{Content:Lt}=j.A,{TabPane:Rt}=Me.A,Mt={data:[],total:0},{getDataset:Ut,deleteDataset:Yt,getDatasetDetail:Gt}=ge.dataset,Vt=()=>{let e=(0,A.Zp)();const t=(0,s.wA)(),a=(0,s.d4)((e=>e.comment.routerData)),n=Te({tableBox:282,table:334}),r={pn:1,pageSize:De[0],dataSetName:"",dataType:"",status:"",trainingSet:""},[i,o,d,u]=Ee(r),[m,h]=(0,l.useState)(Mt),[p,g]=(0,l.useState)(!1),[x,y]=(0,l.useState)(null),[b,f]=(0,l.useState)("1"),[v,S]=(0,l.useState)(!1),[k,I]=(0,l.useState)(null),{loading:w,run:N}=Be({ajax:Ut,loadingDelay:500,debounceWait:300,onBefore:e=>{h(Mt),u()},onSuccess:(e,t)=>{Array.isArray(e.data)&&(e.data.forEach(((e,t)=>{e.key=Oe(),e.sortT=d.current.pageSize*(d.current.pn-1)+t+1})),h({data:e.data,total:e.total}))},onError:(e,t)=>{console.log(e)}}),E=()=>{N({...d.current})},B=e=>{o({...i,dataSetName:e.target.value.trim()})},T=e=>{o({...i,pn:1,dataSetName:e.trim()}),E()},Q=(e,t)=>{o({...i,[e]:t}),E()},F=(e,t)=>{d.current.pageSize!==t&&(e=1),o({...d.current,pageSize:t,pn:e}),E()},W=[{title:"\u6570\u636e\u96c6\u540d\u79f0",dataIndex:"dataSetName",key:"dataSetName",width:300,ellipsis:!0,align:"center"},{title:"\u6570\u636e\u7c7b\u578b",dataIndex:"dataType",key:"dataType",align:"center",render:e=>{var t;return(0,C.jsx)(Ft.A,{color:"image"===e?"green":"blue",children:null===(t=it.find((t=>t.value===e)))||void 0===t?void 0:t.label})}},{title:"\u5df2\u6807\u6ce8\u6570\u636e/\u603b\u6570\u636e",key:"dataCount",align:"center",render:(e,t)=>`${t.labeledCount}/${t.totalCount}`},{title:"\u6700\u8fd1\u4e00\u6b21\u66f4\u65b0\u65f6\u95f4",dataIndex:"updateTime",key:"updateTime",align:"center"},{title:"\u6570\u636e\u72b6\u6001",dataIndex:"status",key:"status",align:"center",render:e=>(0,C.jsx)(Ft.A,{color:0===e?"red":"green",children:0===e?"\u672a\u8fbe\u5230\u8bad\u7ec3\u6807\u51c6":"\u5df2\u8fbe\u5230\u8bad\u7ec3\u6807\u51c6"})},{title:"\u64cd\u4f5c",key:"action",align:"center",width:420,render:(l,n)=>(0,C.jsxs)(D.A,{size:"middle",children:[(0,C.jsx)(z.Ay,{type:"link",onClick:()=>(l=>{t(c({...a,breadcrumb:[...a.breadcrumb,{text:l.dataSetName,path:`/dataset?form=${encodeURIComponent(JSON.stringify(d.current))}`},{text:"\u67e5\u770b\u8be6\u60c5"}]})),e(`/dataset/details?id=${l.id}&breadcrumbName=${l.dataSetName}`)})(n),children:"\u67e5\u770b\u8be6\u60c5"}),(0,C.jsx)(z.Ay,{type:"link",onClick:()=>(e=>{I(e),S(!0)})(n),children:"\u5bfc\u5165\u6570\u636e"}),(0,C.jsx)(z.Ay,{type:"link",onClick:()=>M(n),children:"\u7f16\u8f91"}),(0,C.jsx)(Ce.A,{title:"\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u6570\u636e\u96c6\u5417\uff1f",onConfirm:()=>U(n),okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:(0,C.jsx)(z.Ay,{type:"link",danger:!0,children:"\u5220\u9664"})})]})}],M=e=>{y(e),g(!0)},U=e=>{Yt({id:e.id}).then((e=>{ve.Ay.success(e.message||"\u5220\u9664\u6210\u529f"),E()})).catch((e=>{console.log(e.message||"\u5220\u9664\u5931\u8d25")}))};(0,l.useEffect)((()=>{const e=Fe(window.location.search);e.form&&o({...i,...JSON.parse(decodeURIComponent(e.form))}),E()}),[]);const[Y,G]=(0,l.useState)([]);return(0,C.jsx)(j.A,{className:"dataset-layout",children:(0,C.jsxs)(Lt,{className:"dataset-content",children:[(0,C.jsxs)(Me.A,{activeKey:b,onChange:f,children:[(0,C.jsx)(Rt,{tab:"\u8bad\u7ec3\u96c6",children:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(L.A,{layout:"vertical",className:"search-form",children:[(0,C.jsx)(L.A.Item,{label:"\u6570\u636e\u96c6\u540d\u79f0",children:(0,C.jsx)(R.A.Search,{allowClear:!0,placeholder:"\u8bf7\u8f93\u5165\u6570\u636e\u96c6\u540d\u79f0",onChange:B,onSearch:T,suffix:(0,C.jsx)(Ie.A,{}),loading:w,value:i.dataSetName})}),(0,C.jsx)(L.A.Item,{label:"\u6570\u636e\u7c7b\u578b",children:(0,C.jsx)(K.A,{placeholder:"\u8bf7\u9009\u62e9\u6570\u636e\u7c7b\u578b",options:it,allowClear:!0,value:i.dataType,onChange:e=>Q("dataType",e)})}),(0,C.jsx)(L.A.Item,{label:"\u6570\u636e\u72b6\u6001",children:(0,C.jsxs)(K.A,{placeholder:"\u8bf7\u9009\u62e9\u6570\u636e\u72b6\u6001",allowClear:!0,value:i.status,onChange:e=>Q("status",e),children:[(0,C.jsx)(Kt,{value:"active",children:"\u6b63\u5e38"}),(0,C.jsx)(Kt,{value:"deleted",children:"\u5df2\u5220\u9664"})]})}),(0,C.jsx)(L.A.Item,{label:"\u8bad\u7ec3\u96c6",children:(0,C.jsxs)(K.A,{placeholder:"\u8bf7\u9009\u62e9\u8bad\u7ec3\u96c6",allowClear:!0,value:i.trainingSet,onChange:e=>Q("trainingSet",e),children:[(0,C.jsx)(Kt,{value:"all",children:"\u5168\u90e8"}),(0,C.jsx)(Kt,{value:"training",children:"\u8bad\u7ec3\u96c6"}),(0,C.jsx)(Kt,{value:"validation",children:"\u9a8c\u8bc1\u96c6"})]})}),(0,C.jsx)(L.A.Item,{label:" ",children:(0,C.jsx)(D.A,{children:(0,C.jsx)(z.Ay,{icon:(0,C.jsx)(Wt.A,{}),onClick:()=>(o({...r,pn:1}),void E()),children:"\u91cd\u7f6e"})})})]}),(0,C.jsxs)("div",{className:"result-box",children:[(0,C.jsxs)("div",{className:"result-title",children:[(0,C.jsxs)("span",{className:"result-title-count",children:["\u5171 ",(0,C.jsx)("span",{children:m.total})," \u6761\u7ed3\u679c"]}),(0,C.jsx)("div",{className:"result-title-btn",children:(0,C.jsx)(z.Ay,{type:"primary",icon:(0,C.jsx)(Ge.A,{}),onClick:()=>g(!0),children:"\u521b\u5efa\u6570\u636e\u96c6"})})]}),(0,C.jsx)(We,{ajaxLoad:w,nodata:!m.data.length,style:{height:n.tableBox},children:(0,C.jsx)(O.A,{className:"dataset-table table-common",bordered:!0,columns:W,dataSource:m.data,rowKey:"id",loading:w,locale:{emptyText:(0,C.jsx)(Ot.A,{description:"\u6682\u65e0\u6570\u636e"})},pagination:!1,scroll:{y:n.table}})}),(0,C.jsx)(Se.A,{style:{display:m.data.length?"flex":"none"},align:"center",className:"pagination-common",showSizeChanger:!0,showQuickJumper:!0,showTotal:()=>`\u5171 ${m.total} \u6761`,total:m.total,current:i.pn,pageSize:i.pageSize,pageSizeOptions:De,onChange:F})]})]})},"1"),(0,C.jsx)(Rt,{tab:"\u6d4b\u8bd5\u96c6",children:(0,C.jsx)("div",{className:"pending-approval",children:(0,C.jsx)(Ot.A,{description:"\u6682\u65e0\u6d4b\u8bd5\u96c6\u6570\u636e"})})},"2")]}),(0,C.jsx)(ot,{visible:p,onCancel:()=>{g(!1),y(null)},onOk:()=>{y(null),g(!1)},editingDataset:x}),(0,C.jsx)(lt,{visible:v,data:k,onCancel:()=>{S(!1),I(null)}})]})})};var Pt=a(60785);const{Content:Jt}=j.A,{Meta:qt}=F.A,{getDatasetDetails:Ht}=ge.dataset,Zt={data:[],total:0},$t=()=>{const e=(0,A.zy)(),t=(0,l.useRef)(ze(e.search,"id")),a=(ze(e.search,"from"),Te({tableBox:184})),n={pn:1,pageSize:De[0],searchKey:"",id:t.current},[s,r,i,o]=Ee(n),[d,c]=(0,l.useState)(Zt),{loading:u,run:m}=Be({ajax:Ht,loadingDelay:500,debounceWait:300,onBefore:e=>{c(Zt)},onSuccess:(e,t)=>{Array.isArray(e.data)&&(e.data.forEach(((e,t)=>{e.key=Oe(),e.sortT=i.current.pageSize*(i.current.pn-1)+t+1})),c({data:e.data,total:e.total}))},onError:(e,t)=>{console.log(e),c(Zt)}}),h=()=>{m({...i.current})};return(0,l.useEffect)((()=>{h()}),[]),(0,C.jsx)(j.A,{className:"dataset-details-layout",children:(0,C.jsxs)(Jt,{className:"dataset-details-content",children:[(0,C.jsx)(L.A,{layout:"vertical",className:"search-form",children:(0,C.jsx)(L.A.Item,{children:(0,C.jsx)(R.A.Search,{allowClear:!0,placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9",onChange:e=>{r({...s,searchKey:e.target.value.trim()})},onSearch:e=>{r({...s,pn:1,searchKey:e.trim()}),h()},suffix:(0,C.jsx)(Ie.A,{}),loading:u,value:s.dataSetName})})}),(0,C.jsxs)("div",{className:"result-box",children:[(0,C.jsx)("div",{className:"result-title",children:(0,C.jsxs)("span",{className:"result-title-count",children:["\u5171 ",(0,C.jsx)("span",{children:d.total})," \u6761\u7ed3\u679c"]})}),(0,C.jsx)(We,{ajaxLoad:u,nodata:!d.data.length,style:{height:a.tableBox},isTable:!1,children:(0,C.jsx)(D.A,{wrap:!0,size:20,children:d.data.map((e=>(0,C.jsx)(F.A,{hoverable:!0,style:{width:300},cover:(0,C.jsx)(Pt.A,{src:e.imageUrl,fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAACoCAYAAABaK9MPAAAAAXNSR0IArs4c6QAADgBJREFUeF7tnQ+slWUdx7/EH6/8i4GSDWUstETULMsysiQKMQrXDBRnMieaKCtJFss5GUWyGoU2DKeYf8qYKLMyMlgO05XMRVlKMQpjkqkoRhB/r0D78d7TPefec+953/c55znv7/Z5NubdOc/z+/3O5/f43fs+7/P+nl5/337kiGgQgAAEHBDohWA5yBIhQgACRwkgWEwECEDADQEEy02qCBQCEECwmAMQgIAbAgiWm1QRKAQggGAxByAAATcEECw3qSJQCEAAwWIOQAACbgggWG5SRaAQgACCxRyAAATcEECw3KSKQCEAAQSLOQABCLghgGC5SRWBQgACCBZzAAIQcEMAwXKTKgKFAAQQLOYABCDghgCC5SZVBAoBCCBYzAEIQMANAQTLTaoIFAIQQLCYAxCAgBsCCJabVBEoBCCAYDEHIAABNwQQLDepIlAIQADBYg5AAAJuCCBYblJFoBCAAILFHIAABNwQQLDcpIpAIQABBIs5AAEIuCGAYLlJFYFCAAIIFnMAAhBwQwDBcpMqAoUABBAs5gAEIOCGAILlJlUECgEIIFjMAQhAwA0BBMtNqggUAhBAsJgDEICAGwIIlptUESgEIIBgMQcgAAE3BBAsN6kiUAhAAMFiDkAAAm4IIFhuUkWgEIAAgsUcgAAE3BBAsNykikAhAAEEizkAAQi4IYBguUkVgUIAAggWcwACEHBDAMFykyoChQAEECzmAAQg4IYAguUmVQQKAQggWMwBCEDADQEEy02qCBQCEECwmAMQgIAbAgiWm1QRKAQggGAxByAAATcEECw3qSJQCEAAwWIOQAACbgggWG5SRaAQgACCxRyAAATcEECw3KSKQCEAAQSLOQABCLghgGC5SRWBQgACCBZzoCqB13dJB9+Sdu6V9h+Udu+Tdu2T9rdKO3ZLhw9L23dJrW199h2ULj9PmnBGdaD3rpP2HpAGHSu19Ev6DDgm+Wetbx9pyIDk795vk4YNbLczdGDyGQ0CCNb/wRw4dFh68TXplZ2JwOz4T5vQ7JH2HEj+mSCVxMj6Z20mKMuvTQSpY/vTS9LXH85qsXp/E7V+fZLvBrUk4mf/zhndtVjWxzNWikAAwSpCFhoYw/Z/S4t+Im17o4FOJJ05UrplanUfC1dJz21trH+zPuksaeaExvvBQ/MIIFjNYx/FcyyxmDWx+hXO1u3S3B9G+alHbxt/cF37bWYcr3iJSQDBikm7Cb4uWSLlucXLGuoVH5emfKDzqHUvSHesyWotf/+lV0knDMk/npHFJoBgFTs/wdFNv01qPRRspqYBW1tadrXUt3dlV1sbm3lnHNE0z9+/Who+uGa4dHBKAMFymri0Yc+6W7InfjHa9RdI40/v7MkW3G3hPUZDsGJQbp4PBKt57KN4nnOftG1HFFc66ThpyYzOvp54Xlq2Nk4MtoY1uMqTyjje8dJoAghWowk32f78h6SN/4gXxNc+J539rubdFj5yY7zfiqf4BBCs+Myjelz8mLR+czyXY0+SFkzLfltY2hwaevuKYMXLdTM8IVjNoB7R59I10pMvRHQoafEXpFHDK312dVs47j2SPWEcNijpb4v0j6yXVv8+e8y24L/ihuzjGOGHAILlJ1e5In3waenRZ3MNzT3o9iulEUMrh295VZr3YOVnE8+UrvlUdTc/+530wK+zhXD84ORJJa3nEkCwem5uj/6ylc9IK38b70d2dUt4+y+kp//SHkdX2yDKI537gLT19fSxI1jpWXntiWB5zVzKuNdtlO74ZcrOdeh2w2Tpo6dWGqq22/38sdLsSd07tCtDu0JM2xCstKT89kOw/OYuVeRP/Vn63uOpugZ3shef7/pi582j3/6p9OzfKs1P+4g07dzuXWYV27EnSgsuCf4ZGCgwAQSrwMmpR2gbt0nzV9bDUm0bk94nzfxEZT/bUmFbKzq2D54szbuoe5u2hmVrWWkbgpWWlN9+CJbf3KWKvNpid6qBOTp9d4Y08rjKgSaWJpodm9W/WjazvQZWx+/tdaLZy5NSOGkbgpWWlN9+CJbf3KWK3IrsXXd3qq5BnU55p7ToskoTG16UFj3atdlTR0g3Xyy19K3sYy9r27rbU2WL9GmC+9hp0pcuTNOTPl4JIFheM5cybivON2Npys4B3a6fJI0fW2nAysrYgnt3zbY/XPwhyZ4uWtvyWnIbuOnl7MGcf7o0+4Ls4xjhhwCC5SdXuSP9/HdyD6068JyTpTNGJsJS2pl+/+zKOlR/2Cp9c1V9/dayhmDVIuT/ewTLfw5r/oKZy5La7PVo542RvvzpxNLOPcmC/stvSnMmS+PKtjPYldK8H9XDY3obVo/Lds3Tei4BBKvn5vZ/v6xeJWZOO1GaP7XyQAhbFDdhGnV8sh5V3uxW1G5JY7U0WyVixYKfxhBAsBrDtVBWb14hbfpnWEi21nTrZdXLD9sVll1p2fflxfOWrJZ+synMb5bRCFYWWj77Ilg+85Yp6gUPS88HFNCz12hunS4Nf3vXbk20bPvCxPe291n7R+muX2UKNajzleOlye8PMsHgghNAsAqeoHqEF1KxwbYcWLmY0SfUjsQqLZQf8xVrS0UpsmpPKmtHTQ9PBBAsT9nKGatd5djVTtZmp9B89aLOBfmy2MmyfmaHR1iJmLwVUhGsLJnx2RfB8pm3TFHnrdhw1QTpwrMyuerUOe0LzPYytB0VZiJpp0TnqYfV8UllWOSMLiIBBKuIWalzTPY/v4lAllavLQK2a912u3d3kKqtO9n6U3mzGvBW9C9Ls1vX0gbULOPo64cAguUnV7kjzVr14MOnSHOn5HbXaaCtbVltq2rvBXZ1nqEJ3ZKfS+v/mj4OBCs9K689ESyvmcsQ94YtyXH1aVpX7/elGdtdH3sJ+6YV7ecT2q2f3XJa1dGumomWbZdI+5rONy6VxowIjZTxRSaAYBU5O3WKLW2JGdtrZVcpto2hEe3x56R7nkjWqazQ37nvru1lf6u0cFU60eJMwto8vfdAsLxnMEX8r+6UZt/TfUcTKROrjrXYU5jP1GXZGsmqKmRZayp/Bag7ZwhWplS47IxguUxbtqBr7YeyrQS3TC327ZSJlr0C1F19LAQr27zw2BvB8pi1HDF3V7Hhxs+muz3L4bauQ0qvAJl4VWsPzal8z7GuzjFWCAIIViHS0Pggpt8mWRXPjq2rp3SNjyifB1u8t4V4W9vq2DhENR9TT6MQLE/ZCoi12o5zO8R0zmcCjDZpaFfvKCJYTUpIRLcIVkTYzXQ1577Or7xc88nKl5WzxLdjd3LFZmtKrW8ltbGsHpath1lJmdJ5gv16Vz51tKO4Qlu1k4CG9JeWzwq1zPiiE0Cwip6hOsVnJ9fYCTblzd7ds7MB7UAIu8Uy0THxsUV62wP15u7k8137EhHae0D6V1ufjmHZU8bl1yafrt4g3ftk7cDteHrb4mBtUIvU0i/5e8Ax7WVs7OXrQf2Tz3v3Sv5r2yM6rmNxJmFt3j2hB4LVE7KY4jcsfkxavzlFx5xdyo/tuunH0uZXchrKOQzBygnO2TAEy1nC8oYbUmImjc9SLao0e77S2MvaxyqeLr4i6yj6eyOAYHnLWM547ch3q5zQqFaq9W63jlZDvtoTyUb5NrucSdhIusWxjWAVJxcNjcROuLGTlBvZvnW5NPodSZXRPPW3QmLjTMIQen7GIlh+chUUqW26/Mr97S8fBxlrG2zVRW1R3Bbc7WnguDHJy8wvvSFZeZjyhfHScWD18NvRhsWw8FJp1PBGWMdmkQggWEXKRoNjeWazdOfaypNs7Cnd0IFSvz6SbQ3o3yINaJEGtz21s++sjx0uYU8TTZxMIAYfmz9Y2wphTyGt7d7bvgl0/0Fp1/7k86NPKcuOqbdtFIeOJN/tbNtKYX8PGShNOTtdCef8ETOyKAQQrKJkIlIcJgSl9/GGtYlRJNe4gUAwAQQrGCEGIACBWAQQrFik8QMBCAQTQLCCEWIAAhCIRQDBikUaPxCAQDABBCsYIQYgAIFYBBCsWKTxAwEIBBNAsIIRYgACEIhFAMGKRRo/EIBAMAEEKxghBiAAgVgEEKxYpPEDAQgEE0CwghFiAAIQiEUAwYpFGj8QgEAwAQQrGCEGIACBWAQQrFik8QMBCAQTQLCCEWIAAhCIRQDBikUaPxCAQDABBCsYIQYgAIFYBBCsWKTxAwEIBBNAsIIRYgACEIhFAMGKRRo/EIBAMAEEKxghBiAAgVgEEKxYpPEDAQgEE0CwghFiAAIQiEUAwYpFGj8QgEAwAQQrGCEGIACBWAQQrFik8QMBCAQTQLCCEWIAAhCIRQDBikUaPxCAQDABBCsYIQYgAIFYBBCsWKTxAwEIBBNAsIIRYgACEIhFAMGKRRo/EIBAMAEEKxghBiAAgVgEEKxYpPEDAQgEE0CwghFiAAIQiEUAwYpFGj8QgEAwAQQrGCEGIACBWAQQrFik8QMBCAQTQLCCEWIAAhCIRQDBikUaPxCAQDABBCsYIQYgAIFYBBCsWKTxAwEIBBNAsIIRYgACEIhFAMGKRRo/EIBAMAEEKxghBiAAgVgEEKxYpPEDAQgEE0CwghFiAAIQiEUAwYpFGj8QgEAwAQQrGCEGIACBWAQQrFik8QMBCAQTQLCCEWIAAhCIRQDBikUaPxCAQDABBCsYIQYgAIFYBBCsWKTxAwEIBBNAsIIRYgACEIhFAMGKRRo/EIBAMAEEKxghBiAAgVgEEKxYpPEDAQgEE0CwghFiAAIQiEUAwYpFGj8QgEAwAQQrGCEGIACBWAT+C1WFx3220hZXAAAAAElFTkSuQmCC",width:300,height:168}),children:(0,C.jsx)(qt,{title:e.fileName})})))})}),(0,C.jsx)(Se.A,{style:{display:d.data.length?"flex":"none"},align:"center",className:"pagination-common",showSizeChanger:!0,showQuickJumper:!0,showTotal:()=>`\u5171 ${d.total} \u6761`,total:d.total,current:s.pn,pageSize:s.pageSize,pageSizeOptions:De,onChange:(e,t)=>{i.current.pageSize!==t&&(e=1),r({...i.current,pageSize:t,pn:e}),h()}})]})]})})};var Xt=a(74359),_t=a(35398);const ea=e=>{let{visible:t,onOk:a,onCancel:l,form:n,editingLabel:s}=e;return(0,C.jsx)(ke.A,{title:s?"\u7f16\u8f91\u6807\u7b7e":"\u65b0\u5efa\u6807\u7b7e",open:t,onOk:a,onCancel:l,children:(0,C.jsxs)(L.A,{form:n,layout:"horizontal",labelAlign:"right",children:[(0,C.jsx)(L.A.Item,{name:"name",label:"\u6807\u7b7e\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u7b7e\u540d\u79f0"}],children:(0,C.jsx)(R.A,{})}),(0,C.jsx)(L.A.Item,{name:"value",label:"\u6807\u7b7e\u503c",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u7b7e\u503c"}],children:(0,C.jsx)(R.A,{})})]})})};var ta=a(85032);const aa=e=>{let{visible:t,onOk:a,onCancel:l,form:n}=e;return(0,C.jsx)(ke.A,{title:"\u6dfb\u52a0\u6807\u7b7e\u5c5e\u6027",className:"label-attribute-modal modal-common",open:t,onOk:a,onCancel:l,width:700,children:(0,C.jsx)(L.A,{form:n,layout:"vertical",children:(0,C.jsx)(L.A.List,{name:"attributes",initialValue:[{name:"",attributeValues:[""]}],children:(e,t)=>{let{add:a,remove:l}=t;return(0,C.jsxs)(D.A,{direction:"vertical",style:{width:"100%"},children:[(0,C.jsx)(ta.A,{bordered:!1,defaultActiveKey:["0"],onChange:e=>{console.log(e)},items:e.map(((t,a)=>({key:a,label:(0,C.jsxs)("div",{children:[(0,C.jsx)(L.A.Item,{...t,layout:"horizontal",label:"\u5c5e\u6027\u540d",name:[t.name,"name"],rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5c5e\u6027\u540d"}],children:(0,C.jsx)(R.A,{placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9"})}),e.length>1?(0,C.jsx)(z.Ay,{type:"link",danger:!0,onClick:e=>{e.stopPropagation(),l(t.name)},children:"\u5220\u9664"}):""]}),children:(0,C.jsx)("div",{className:"label-attributes",children:(0,C.jsx)(L.A.Item,{style:{marginBottom:0},children:(0,C.jsx)(L.A.List,{name:[t.name,"attributeValues"],children:(e,t)=>{let{add:l,remove:n}=t;return(0,C.jsxs)("div",{className:"label-attribute-item-wrap",children:[e.map(((t,l)=>(0,C.jsxs)("div",{className:"label-attribute-item",children:[(0,C.jsx)(L.A.Item,{...t,name:[t.name,"value"],label:"\u5c5e\u6027\u503c",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5c5e\u6027\u503c"}],children:(0,C.jsx)(R.A,{placeholder:"\u8bf7\u8f93\u5165\u5c5e\u6027\u503c"})}),e.length>1?(0,C.jsx)(z.Ay,{type:"link",danger:!0,onClick:()=>n(t.name),children:"\u5220\u9664"}):""]},t.key+`${a}-${l}`))),(0,C.jsx)(L.A.Item,{children:(0,C.jsx)(z.Ay,{type:"primary",ghost:!0,onClick:()=>l(),icon:(0,C.jsx)(Ge.A,{}),style:{width:"100%"},children:"\u6dfb\u52a0\u5c5e\u6027\u503c"})})]})}})})})})))}),(0,C.jsx)(L.A.Item,{children:(0,C.jsx)(z.Ay,{onClick:()=>a({attributeValues:[""]}),type:"primary",ghost:!0,block:!0,icon:(0,C.jsx)(Ge.A,{}),children:"\u6dfb\u52a0\u5c5e\u6027"})})]})}})})})},{Content:la}=j.A,{Text:na}=Xt.A,{Option:sa}=K.A,ra=()=>{const[e,t]=ve.Ay.useMessage(),[a]=L.A.useForm(),[n,s]=l.useState(!1),[r,i]=l.useState(null),[o,d]=l.useState(null),[c,u]=l.useState(null),[m,h]=l.useState(!1),[p,g]=l.useState(""),[A,y]=l.useState([]),[b,f]=l.useState([]),[v,S]=l.useState(!1),[k,I]=l.useState(!1),[w,N]=l.useState(null),[E]=L.A.useForm(),[B,T]=l.useState(!1),[Q,O]=l.useState(!1),W=async()=>{try{T(!0);const e=await he.getGroupList();if(console.log("\u6807\u7b7e\u7ec4\u5217\u8868\u83b7\u53d6\u6210\u529f",e),y(e.data),e.data&&e.data.length>0){const t=e.data[0];u(t)}}catch(e){console.error("\u83b7\u53d6\u6807\u7b7e\u7ec4\u5217\u8868\u5931\u8d25",e),ve.Ay.error("\u83b7\u53d6\u6807\u7b7e\u7ec4\u5217\u8868\u5931\u8d25")}finally{T(!1)}},K=async e=>{try{O(!0);const t=e?{groupId:e}:{},a=await he.getLabelList(t);f(a.data)}catch(t){ve.Ay.error("\u83b7\u53d6\u6807\u7b7e\u5217\u8868\u5931\u8d25")}finally{O(!1)}};l.useEffect((()=>{W()}),[]),l.useEffect((()=>{c&&K(c.id)}),[c]);const M=()=>{d(null)},U=e=>(0,C.jsxs)(_t.A.Item,{style:{position:"relative"},children:[(0,C.jsx)("div",{style:{position:"absolute",top:8,right:8,zIndex:1},children:(0,C.jsxs)(D.A,{children:[(0,C.jsx)(z.Ay,{type:"link",onClick:()=>(e=>{N(e),E.resetFields(),I(!0)})(e),icon:(0,C.jsx)(Ge.A,{}),title:"\u6dfb\u52a0\u5c5e\u6027",size:"small",children:"\u6dfb\u52a0\u5c5e\u6027"}),(0,C.jsx)(z.Ay,{type:"link",onClick:()=>{return i(t=e),a.setFieldsValue(t),void s(!0);var t},title:"\u4fee\u6539",size:"small",children:"\u4fee\u6539"}),(0,C.jsx)(z.Ay,{type:"text",danger:!0,onClick:()=>{return t=e,void ke.A.confirm({title:"\u786e\u8ba4\u5220\u9664",content:`\u786e\u5b9a\u8981\u5220\u9664\u6807\u7b7e"${t.name}"\u5417\uff1f`,onOk:async()=>{try{await he.deleteLabel(t.id),ve.Ay.success("\u5220\u9664\u6210\u529f"),K(null===c||void 0===c?void 0:c.id)}catch(e){ve.Ay.error("\u5220\u9664\u6807\u7b7e\u5931\u8d25")}}});var t},title:"\u5220\u9664",size:"small",children:"\u5220\u9664"})]})}),(0,C.jsx)(_t.A.Item.Meta,{title:(0,C.jsx)(D.A,{children:(0,C.jsx)(na,{strong:!0,children:e.name})}),description:(0,C.jsx)(D.A,{direction:"vertical",style:{width:"100%"},children:e.attributes&&e.attributes.length>0&&(0,C.jsx)(D.A,{wrap:!0,children:e.attributes.map(((e,t)=>(0,C.jsx)("div",{className:"label-attribute",children:e.name})))})})})]});return(0,C.jsxs)(j.A,{className:"label-page",children:[t,(0,C.jsxs)(la,{className:"label-page-content",children:[(0,C.jsx)(F.A,{title:"\u6807\u7b7e\u7ec4\u7ba1\u7406",className:"label-group-list",extra:(0,C.jsx)(z.Ay,{type:"primary",onClick:()=>h(!0),children:"\u65b0\u5efa\u6807\u7b7e\u7ec4"}),children:(0,C.jsx)(x.A,{spinning:B,children:0===A.length?(0,C.jsx)("div",{style:{textAlign:"center",padding:20},children:"\u6682\u65e0\u6807\u7b7e\u7ec4"}):(0,C.jsx)(_t.A,{dataSource:A,header:m&&(0,C.jsxs)("div",{className:"add-group-input",children:[(0,C.jsx)(R.A,{placeholder:"\u8bf7\u8f93\u5165\u6807\u7b7e\u7ec4\u540d\u79f0",value:p,onChange:e=>g(e.target.value),style:{width:180}}),(0,C.jsxs)("div",{className:"add-group-btn",children:[(0,C.jsx)(z.Ay,{type:"link",onClick:async()=>{if(p.trim())try{await he.createGroup({name:p}),ve.Ay.success("\u6dfb\u52a0\u6210\u529f"),h(!1),g(""),W()}catch(e){ve.Ay.error("\u6dfb\u52a0\u6807\u7b7e\u7ec4\u5931\u8d25")}else ve.Ay.warning("\u8bf7\u8f93\u5165\u6807\u7b7e\u7ec4\u540d\u79f0")},size:"small",children:"\u786e\u5b9a"}),(0,C.jsx)(z.Ay,{type:"link",onClick:()=>{h(!1),g("")},size:"small",children:"\u53d6\u6d88"})]})]}),renderItem:e=>(0,C.jsx)(_t.A.Item,{actions:[(null===o||void 0===o?void 0:o.id)===e.id?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(z.Ay,{type:"link",onClick:()=>(async e=>{try{const t=document.querySelector(`#group-name-${e.id}`).value;await he.updateGroup(e.id,{name:t}),ve.Ay.success("\u66f4\u65b0\u6210\u529f"),d(null),W()}catch(t){ve.Ay.error("\u66f4\u65b0\u6807\u7b7e\u7ec4\u5931\u8d25")}})(e),children:"\u786e\u5b9a"}),(0,C.jsx)(z.Ay,{type:"link",onClick:M,children:"\u53d6\u6d88"})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(z.Ay,{type:"link",onClick:()=>(e=>{d(e)})(e),children:"\u7f16\u8f91"}),(0,C.jsx)(z.Ay,{type:"link",danger:!0,onClick:()=>(e=>{ke.A.confirm({title:"\u786e\u8ba4\u5220\u9664",content:`\u786e\u5b9a\u8981\u5220\u9664\u6807\u7b7e\u7ec4"${e.name}"\u5417\uff1f`,onOk:async()=>{try{await he.deleteGroup(e.id),ve.Ay.success("\u5220\u9664\u6210\u529f"),W(),(null===c||void 0===c?void 0:c.id)===e.id&&(u(null),K())}catch(t){ve.Ay.error("\u5220\u9664\u6807\u7b7e\u7ec4\u5931\u8d25")}}})})(e),children:"\u5220\u9664"})]})],children:(null===o||void 0===o?void 0:o.id)===e.id?(0,C.jsx)(R.A,{id:`group-name-${e.id}`,defaultValue:e.name}):(0,C.jsx)(na,{style:{cursor:"pointer",color:(null===c||void 0===c?void 0:c.id)===e.id?"#1890ff":"inherit"},onClick:()=>u(e),children:e.name})})})})}),(0,C.jsx)(F.A,{title:"\u6807\u7b7e\u7ba1\u7406",className:"label-list",extra:(0,C.jsx)(z.Ay,{type:"primary",onClick:()=>{i(null),a.resetFields(),s(!0)},children:"\u65b0\u589e\u6807\u7b7e"}),children:(0,C.jsx)(x.A,{spinning:Q,children:(0,C.jsx)("div",{className:"label-cards",children:0===b.length?(0,C.jsx)("div",{style:{textAlign:"center",padding:20},children:"\u6682\u65e0\u6807\u7b7e"}):b.map((e=>(0,C.jsx)(F.A,{style:{marginBottom:16},className:"label-card-item",children:U(e)},e.id)))})})}),(0,C.jsx)(ea,{visible:n,onOk:async()=>{try{const e=await a.validateFields();r?(await he.updateLabel(r.id,e),ve.Ay.success("\u66f4\u65b0\u6210\u529f")):(await he.createLabel({...e,groupId:null===c||void 0===c?void 0:c.id}),ve.Ay.success("\u521b\u5efa\u6210\u529f")),s(!1),a.resetFields(),i(null),K(null===c||void 0===c?void 0:c.id)}catch(e){console.log(e),ve.Ay.error(r?"\u66f4\u65b0\u6807\u7b7e\u5931\u8d25":"\u521b\u5efa\u6807\u7b7e\u5931\u8d25")}},onCancel:()=>{s(!1),a.resetFields(),i(null)},form:a,editingLabel:r}),(0,C.jsx)(aa,{visible:k,onOk:async()=>{try{const e=(await E.validateFields()).attributes.map((e=>({name:e.name,values:e.attributeValues.map((e=>e.value))})));await he.addAttributes(w.id,e),ve.Ay.success("\u6dfb\u52a0\u5c5e\u6027\u6210\u529f"),I(!1),E.resetFields(),N(null),K(null===c||void 0===c?void 0:c.id)}catch(e){console.log(e),ve.Ay.error("\u6dfb\u52a0\u5c5e\u6027\u5931\u8d25")}},onCancel:()=>{I(!1),E.resetFields(),N(null)},form:E})]})]})};var ia=a(24513);const oa=()=>{const e=[{id:1,name:"\u5df2\u5220\u9664\u6570\u636e\u96c61",type:"dataset",deleteTime:"2024-03-26 10:00:00",size:"1.2GB",count:1e3},{id:2,name:"\u5df2\u5220\u9664\u6807\u7b7e1",type:"label",deleteTime:"2024-03-26 11:00:00",size:"0KB",count:0}],t=[{title:"\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type",render:e=>(0,C.jsx)(Ft.A,{color:"dataset"===e?"blue":"green",children:"dataset"===e?"\u6570\u636e\u96c6":"\u6807\u7b7e"})},{title:"\u5220\u9664\u65f6\u95f4",dataIndex:"deleteTime",key:"deleteTime"},{title:"\u5927\u5c0f",dataIndex:"size",key:"size"},{title:"\u6570\u636e\u91cf",dataIndex:"count",key:"count"},{title:"\u64cd\u4f5c",key:"action",render:(e,t)=>(0,C.jsxs)(D.A,{size:"middle",children:[(0,C.jsx)(z.Ay,{type:"link",icon:(0,C.jsx)(ia.A,{}),onClick:()=>a(t),children:"\u6062\u590d"}),(0,C.jsx)(z.Ay,{type:"link",danger:!0,icon:(0,C.jsx)(N.A,{}),onClick:()=>l(t),children:"\u5f7b\u5e95\u5220\u9664"})]})}],a=e=>{ke.A.confirm({title:"\u786e\u8ba4\u6062\u590d",content:`\u786e\u5b9a\u8981\u6062\u590d"${e.name}"\u5417\uff1f`,onOk:()=>{ve.Ay.success("\u6062\u590d\u6210\u529f")}})},l=e=>{ke.A.confirm({title:"\u786e\u8ba4\u5220\u9664",content:`\u786e\u5b9a\u8981\u5f7b\u5e95\u5220\u9664"${e.name}"\u5417\uff1f\u6b64\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d\uff01`,okText:"\u786e\u8ba4\u5220\u9664",okType:"danger",onOk:()=>{ve.Ay.success("\u5220\u9664\u6210\u529f")}})};return(0,C.jsx)("div",{className:"p-6",children:(0,C.jsx)(F.A,{title:"\u56de\u6536\u7ad9",children:(0,C.jsx)(O.A,{columns:t,dataSource:e,rowKey:"id",pagination:{total:e.length,pageSize:10,showTotal:e=>`\u5171 ${e} \u6761`}})})})},da=[{path:"/",element:(0,C.jsx)(Q,{}),public:!0,children:[{path:"/",element:(0,C.jsx)(A.C5,{to:"/training-model",replace:!0})},{path:"/dashboard",name:"/dashboard",element:(0,C.jsx)(fe,{})},{path:"/training-model",name:"/training-model",element:(0,C.jsx)(gt,{}),breadcrumb:[{text:"\u6a21\u578b\u8bad\u7ec3"}]},{path:"/training-task",name:"/training-model",element:(0,C.jsx)(Et,{}),breadcrumb:[{text:"\u6a21\u578b\u8bad\u7ec3",path:"/training-model"},{text:"\u8bad\u7ec3\u4efb\u52a1"}]},{path:"/training-result",name:"/training-model",element:(0,C.jsx)(zt,{}),breadcrumb:[{text:"\u6a21\u578b\u8bad\u7ec3",path:"/training-model"},{text:"\u8bad\u7ec3\u7ed3\u679c"}]},{path:"/dataset",name:"/dataset",element:(0,C.jsx)(Vt,{}),breadcrumb:[{text:"\u6570\u636e\u96c6"}]},{path:"/dataset/details",name:"/dataset",element:(0,C.jsx)($t,{}),breadcrumb:[{text:"\u6570\u636e\u96c6",path:"/dataset"},{text:"\u6570\u636e\u96c6\u8be6\u60c5"}]},{path:"/label",name:"/label",element:(0,C.jsx)(ra,{}),breadcrumb:[{text:"\u6807\u7b7e\u7ba1\u7406"}]},{path:"/recycle-bin",name:"/recycle-bin",element:(0,C.jsx)(oa,{}),breadcrumb:[{text:"\u56de\u6536\u7ad9"}]},{path:"/user",name:"/user",element:(0,C.jsx)(W,{})},{path:"/settings",name:"/settings",element:(0,C.jsx)(Y,{})}]}],ca=e=>{let{children:t,data:a}=e;const n=(0,s.wA)();return(0,l.useEffect)((()=>{Fe(window.location.search).breadcrumbName||n(c(a))}),[a]),t},ua=e=>{let{children:t,data:a}=e;return t},ma=()=>{const e=t=>t.map(((t,a)=>{const l=t.public?ua:ca;return(0,C.jsx)(A.qh,{path:t.path,element:(0,C.jsx)(l,{data:t,children:t.element}),children:t.children&&e(t.children)},a)}));return(0,C.jsx)(l.Suspense,{fallback:(0,C.jsx)(x.A,{size:"large",className:"global-spin"}),children:(0,C.jsx)(A.BV,{children:e(da)})})};const ha=function(){return(0,C.jsx)(A.Kd,{children:(0,C.jsx)(ma,{})})},pa=e=>{e&&e instanceof Function&&a.e(96).then(a.bind(a,88206)).then((t=>{let{getCLS:a,getFID:l,getFCP:n,getLCP:s,getTTFB:r}=t;a(e),l(e),n(e),s(e),r(e)}))};a(74884);var ga=a(29063),Aa=a(96263),xa=a(1681);const ja=function(e){return(0,C.jsx)(Aa.N7,{hashPriority:"high",children:(0,C.jsx)(ga.Ay,{...e,locale:xa.A,theme:{cssVar:{key:"app"},hashed:!1,token:{colorPrimary:"#0588FF",borderRadius:10,controlHeight:36},components:{Table:{borderColor:"#e8e8e8"},Menu:{activeBarHeight:0,iconSize:16,horizontalItemBorderRadius:10,horizontalLineHeight:38,itemPaddingInline:18}}}})})};n.createRoot(document.getElementById("root")).render((0,C.jsx)(s.Kq,{store:g,children:(0,C.jsx)(ja,{children:(0,C.jsx)(ha,{})})})),pa()}},t={};function a(l){var n=t[l];if(void 0!==n)return n.exports;var s=t[l]={id:l,loaded:!1,exports:{}};return e[l].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=e,(()=>{var e=[];a.O=(t,l,n,s)=>{if(!l){var r=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],s=e[c][2];for(var i=!0,o=0;o<l.length;o++)(!1&s||r>=s)&&Object.keys(a.O).every((e=>a.O[e](l[o])))?l.splice(o--,1):(i=!1,s<r&&(r=s));if(i){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[l,n,s]}})(),a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;a.t=function(l,n){if(1&n&&(l=this(l)),8&n)return l;if("object"===typeof l&&l){if(4&n&&l.__esModule)return l;if(16&n&&"function"===typeof l.then)return l}var s=Object.create(null);a.r(s);var r={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&l;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>r[e]=()=>l[e]));return r.default=()=>l,a.d(s,r),s}})(),a.d=(e,t)=>{for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.e=()=>Promise.resolve(),a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={57:0};a.O.j=t=>0===e[t];var t=(t,l)=>{var n,s,r=l[0],i=l[1],o=l[2],d=0;if(r.some((t=>0!==e[t]))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(o)var c=o(a)}for(t&&t(l);d<r.length;d++)s=r[d],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},l=self.webpackChunkaip=self.webpackChunkaip||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var l=a.O(void 0,[411,734,111,213,659,96],(()=>a(71049)));l=a.O(l)})();